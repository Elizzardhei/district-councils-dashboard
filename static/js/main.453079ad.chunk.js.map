{"version":3,"sources":["../node_modules/encoding/lib sync","components/atom/UnstyledLink.js","utils/responsive.js","components/atom/MobileAppBar.js","components/atom/DesktopAppBar.js","components/NavBar.js","utils/features.js","components/AddressSearcher.js","components/PeopleSearcher.js","components/search/DistrictSelector.js","pages/search/index.js","pages/profile/index.js","components/OLMap.js","components/district/DistrictCard.js","components/district/MainAreas.js","components/BorderLinearProgress.js","components/district/CandidateList.js","helpers/candidate.js","components/district/VoterTurnoutChart.js","components/WaffleChart.js","components/district/Metrics.js","pages/district/index.js","pages/battleground/index.js","ui/theme/index.js","pages/notfound/index.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","UnstyledLink","styled","Link","_templateObject","bps","createBreakpoints","createMuiTheme","StyledAppBar","AppBar","MobileAppBar_templateObject","up","StyledToolbar","Toolbar","_templateObject2","AppBarTitle","_templateObject3","Transition","React","forwardRef","props","ref","react_default","a","createElement","Slide","Object","assign","direction","displayName","StyledListItem","ListItem","_templateObject4","ListItemLink","button","component","NavList","List","_templateObject5","NavText","Typography","_templateObject6","MobileAppBar","_React$useState","useState","_React$useState2","slicedToArray","open","setOpen","navs","handleClose","Fragment","position","color","Container","disableGutters","RouterLink","to","IconButton","edge","aria-label","onClick","Menu_default","Dialog","fullScreen","onClose","TransitionComponent","style","flexGrow","Close_default","map","nav","i","key","url","ListItemText","primary","variant","title","DesktopAppBar_templateObject","down","DesktopAppBar_templateObject2","NavLink","DesktopAppBar_templateObject3","DesktopAppBar","DesktopAppBar_StyledAppBar","maxWidth","DesktopAppBar_AppBarTitle","NavBar","atom_MobileAppBar","atom_DesktopAppBar","Component","getAllFeaturesFromPoint","point","featuresArray","arguments","length","undefined","dc2003","dc2007","dc2011","dc2015","dc2019","pt","turf","lng","lat","feature","polygonProps","n","features","poly","geometry","coordinates","objectSpread","properties","year","name","split","renderInputComponent","inputProps","classes","_inputProps$inputRef","inputRef","other","objectWithoutProperties","TextField","fullWidth","InputProps","node","input","disableUnderline","endAdornment","InputAdornment","className","searchButton","Search_default","renderSuggestion","suggestion","_ref","query","isHighlighted","matches","match","label","parts","parse","MenuItem","selected","part","index","highlight","String","fontWeight","text","getSuggestionValue","IntegrationAutosuggest","state","value","suggestions","handleSuggestionsFetchRequested","_ref2","_this","getSuggestions","then","result","setState","handleSuggestionsClearRequested","handleChange","event","_ref3","newValue","defineProperty","handleSuggestionSelected","_ref4","suggestionValue","suggestionIndex","sectionIndex","method","handleAddressSelected","coordinate","inputValue","trim","toLowerCase","AddressParser","records","filter","_","record","fullAddress","LANG_ZH","_this2","this","autosuggestProps","onSuggestionsFetchRequested","onSuggestionsClearRequested","onSuggestionSelected","root","dist_default","placeholder","onChange","popperNode","InputLabelProps","shrink","theme","suggestionsList","suggestInput","renderSuggestionsContainer","options","Paper","square","containerProps","width","children","withStyles","height","container","suggestionsContainerOpen","zIndex","marginTop","spacing","unit","display","margin","padding","listStyleType","borderRadius","boxShadow","backgroundColor","textDecoration","GET_PEOPLE","gql","PeopleSearcher_templateObject","homeUrl","name_zh","name_en","avatarPath","concat","suggestionNameStyle","marginLeft","lineHeight","selectedSuggestionNameStyle","Avatar","src","imgProps","onError","target","PeopleSearcher","single","popper","handlePeopleSelected","_callee","_ref6","data","regenerator_default","wrap","_context","prev","next","reason","client","variables","nameRegex","sent","dc_people","stop","deburr","includes","withApollo","div","DistrictSelector_templateObject","SideBar","Box","DistrictSelector_templateObject2","MainContent","DistrictSelector_templateObject3","SideBarItem","Button","DistrictSelector_templateObject4","DistrictContainer","DistrictSelector_templateObject5","DistrictSelector","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","renderDCCA","district","dcca","selectedDistrict","DistrictSelector_Container","area","dccode","dname_chi","StyledDivier","Divider","search_templateObject","search_templateObject2","RowContainer","search_templateObject3","ContentRowContainer","search_templateObject4","TabButton","search_templateObject5","active","ContentContainer","search_templateObject6","LandingIcon","_templateObject7","SearchPage","history","push","lastest","pop","CACODE","autoCompleteList","selectedTab","evt","components_PeopleSearcher","tab","AddressSearcher","search_DistrictSelector","isSearchPeople","console","log","search_Container","onTabSelected","bind","renderSearchPeople","renderSearchDistrict","withTheme","GET_PEOPLE_PROFILE","profile_templateObject","commonFontStyle","css","profile_templateObject2","CandidateName","profile_templateObject3","DistrictName","profile_templateObject4","FlexRowContainer","profile_templateObject5","CandidateHeaderContainer","profile_templateObject6","CandidateAvatar","profile_templateObject7","BasicInfoHeader","_templateObject8","ElectionHistoryContainer","_templateObject9","ElectionHistoryHeader","_templateObject10","YearDiv","_templateObject11","ElectionHistoryPaper","_templateObject12","ElectionHistoryContentGrid","Grid","_templateObject13","ElectionHistoryContentSpan","_templateObject14","ElectionHistoryContentHeaderSpan","_templateObject15","ElectionDetailButton","_templateObject16","BasicInfoGridContainer","_templateObject17","BasicInfoGridHeader","_templateObject18","BasicInfoGridContent","_templateObject19","ProfilePage","handleElectionDetailButton","election","yob","item","xs","md","constituency","cacode","camp","vote_percentage","is_won","_this3","params","react_apollo_esm","loading","error","person","sm","gender","estimated_yob","moment","elections","occupation","sort","b","renderElectionInfoCard","MapContainer","OLMap_templateObject","regionStyle","Style","fill","Fill","stroke","Stroke","Text","font","highlightStyle","OLMap","handleMapClick","_this$props","changeDistrict","selectedFeature","getFeatures","highlightFeature","get","getView","fit","getGeometry","getExtent","duration","featuresLayer","_this$props2","dc","find","d","isDCDataExist","featureSource","VectorSource","GeoJSON","readFeatures","VectorLayer","source","getText","setText","getProperties","CNAME","layers","TileLayer","XYZ","Map","refs","mapContainer","view","View","projection","center","zoom","featureOverlay","extent","size","getSize","select","Select","addInteraction","on","highlightedFeature","getSource","removeFeature","addFeature","DistrictCard_templateObject","InnerContainer","DistrictCard_templateObject2","YearText","DistrictCard_templateObject3","RegionText","DistrictCard_templateObject4","CodeText","DistrictCard_templateObject5","DistrictCard_templateObject6","SeperatedRow","DistrictCard_templateObject7","DistrictCard","onPrevElection","ArrowBack_default","Date","getFullYear","onNextElection","ArrowForward_default","councillor","candidates","politicalAffiliation","electedCandidate","candidate","political_affiliations","political_affiliation","getCouncillor","DistrictCard_Container","border","renderPrevElectionButton","gutterBottom","renderNextElectionButton","DistrictCard_StyledDivier","MainAreas_templateObject","MainAreas","areas","MainAreas_Container","flexWrap","alignContent","mr","useStyles","makeStyles","BorderLinearProgress","lighten","bgcolor","bar","LinearProgress","CustomizedProgressBars","fontBoldStyle","CandidateList_templateObject","fontNormalStyle","CandidateList_templateObject2","OvalButton","CandidateList_templateObject3","CandidateList_templateObject4","RowsContainer","CandidateList_templateObject5","CandidateList_templateObject6","FlexColumn","CandidateList_templateObject7","AvatarColumn","CandidateList_templateObject8","NameColumn","CandidateList_templateObject9","PoliticalColumn","CandidateList_templateObject10","CandidateList_templateObject11","CandidateListTitle","CandidateList_templateObject12","CandidateList_templateObject13","BlueVoteContainer","CandidateList_templateObject14","RedVoteContainer","CandidateList_templateObject15","ContentHeader","CandidateList_templateObject16","Content","CandidateList_templateObject17","CandidateList","CandidateList_Container","candidate_number","CandidateList_StyledDivier","CandidateList_FlexRowContainer","handleCandidateSelected","p","CandidateList_CandidateName","err","getCamp","pa","getPoliticalAffiliation","votes","parseFloat","zingchart","MODULESDIR","chartJSON","chartData","male","female","values","forEach","titles","val","isNaN","parseInt","join","type","stacked","stack-type","x","y","align","subtitle","bold","font-size","font-color","background-color","plot","bar-width","hover-state","visible","animation","delay","sequence","valueBox","rules","rule","decimals","scale-x","tick","guide","scale-y","short","line-color","line-style","series","tooltip","VoterTurnoutChart","render","nextProps","nextState","JSON","stringify","exec","WaffleChart","total","squareValue","theData","d3","population","units","Math","round","percentage","floor","Array","groupIndex","append","attr","squareSize","selectAll","enter","row","col","legend","drawChart","QUERY_FETCH_VOTES","Metrics_templateObject","Metrics_templateObject2","_data$dc_constituenci","dc_constituencies","vote_stat","voteStats","voteStat","total_votes","total_voters","total_voted_voters","population_excluded_foreign_worker","population_excluded_foreign_worker_lte_age_15","_ref$person","getDataForWaffleChart","stats","station_stats","barVote","reduce","acc","cur","age","Metrics_Container","district_VoterTurnoutChart","components_WaffleChart","GET_DISTRICTS","district_templateObject","FullWidthBox","district_templateObject2","LowerBackgroundContainer","district_templateObject3","district_templateObject4","DistrictCardContainer","district_templateObject5","DistrictPage","candidateId","handleChangeDistrict","_this$props$match$par","_this$props$match$par2","_this$props$match$par3","electionYear","district_FlexRowContainer","components_OLMap","district_DistrictCard","district_MainAreas","main_areas","Metrics","district_CandidateList","battleground_templateObject","battleground_templateObject2","battleground_templateObject3","battleground_templateObject4","battleground_templateObject5","BattleGroundPage","_this$props$match$par4","_this$props$match$par5","battleground_FlexRowContainer","battleground_DistrictCardContainer","battleground_FullWidthBox","battleground_LowerBackgroundContainer","typography","useNextVariants","fontSize","fontFamily","h1","h2","h3","h4","h5","h6","body1","palette","light","main","dark","secondary","background","default","NotFoundPage","MuiThemeProvider_default","href","content","ApolloClient","uri","App","CssBaseline","components_NavBar","react_router","exact","path","NotfoundPage","toolbar","mixins","ReactDOM","react_router_dom","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.453079ad.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 372;","import styled from 'styled-components'\r\nimport Link from '@material-ui/core/Link'\r\n\r\nconst UnstyledLink = styled(Link)`\r\n  text-decoration: unset;\r\n  color: unset;\r\n  font-style: unset;\r\n  cursor: pointer;\r\n`\r\n\r\nexport default UnstyledLink\r\n","import createBreakpoints from '@material-ui/core/styles/createBreakpoints'\r\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme'\r\n\r\nexport const bps = createBreakpoints({})\r\n\r\nexport const headingFontFamily = 'Source Serif Pro, sans-serif'\r\nexport const bodyFontFamily = 'PT Serif, sans-serif'\r\n\r\nexport const fontFamily = ['PingFangTC-Semibold', 'PingFangTC-Medium']\r\n\r\nexport const typography = {}\r\n\r\nexport const theme = createMuiTheme()\r\n","import React from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport styled from 'styled-components'\r\nimport Container from '@material-ui/core/Container'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport UnstyledLink from './UnstyledLink'\r\nimport { bps } from '../../utils/responsive'\r\n\r\nconst StyledAppBar = styled(AppBar)`\r\n  && {\r\n    width: 100%;\r\n    background-color: white;\r\n    box-shadow: none;\r\n    ${bps.up('md')} {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledToolbar = styled(Toolbar)`\r\n  && {\r\n    display: flex;\r\n  }\r\n`\r\n\r\nconst AppBarTitle = styled(UnstyledLink)`\r\n  && {\r\n    font-weight: 700;\r\n    flex-grow: 1;\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nconst Transition = React.forwardRef((props, ref) => (\r\n  <Slide direction=\"left\" ref={ref} {...props} />\r\n))\r\nTransition.displayName = 'Transition'\r\n\r\nconst StyledListItem = styled(ListItem)`\r\n  && {\r\n    padding: 1rem 1rem;\r\n  }\r\n`\r\n\r\nfunction ListItemLink(props) {\r\n  return <StyledListItem button component={UnstyledLink} {...props} />\r\n}\r\n\r\nconst NavList = styled(List)`\r\n  && {\r\n    padding: 0 1rem;\r\n  }\r\n`\r\n\r\nconst NavText = styled(Typography)`\r\n  && {\r\n    display: inline;\r\n    font-weight: 700;\r\n    margin: 0 1.5rem -5px;\r\n    border-bottom: 5px solid #ffee4f;\r\n\r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n  }\r\n`\r\n\r\nfunction MobileAppBar(props) {\r\n  const [open, setOpen] = React.useState(false)\r\n  const { navs } = props\r\n\r\n  function handleClickOpen() {\r\n    setOpen(true)\r\n  }\r\n\r\n  function handleClose() {\r\n    setOpen(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <StyledAppBar position=\"sticky\" color=\"default\">\r\n        <Container>\r\n          <StyledToolbar disableGutters>\r\n            <AppBarTitle component={RouterLink} to=\"/\">\r\n              Vote for Hong Kong\r\n            </AppBarTitle>\r\n            <IconButton\r\n              edge=\"end\"\r\n              component=\"span\"\r\n              color=\"default\"\r\n              aria-label=\"Menu\"\r\n              onClick={handleClickOpen}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n          </StyledToolbar>\r\n        </Container>\r\n      </StyledAppBar>\r\n      <Dialog\r\n        fullScreen\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <Toolbar>\r\n          <div style={{ flexGrow: 1 }} />\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            onClick={handleClose}\r\n            aria-label=\"Close\"\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n        <NavList>\r\n          {navs.map((nav, i) => (\r\n            <ListItemLink\r\n              key={i}\r\n              component={RouterLink}\r\n              to={nav.url}\r\n              onClick={handleClose}\r\n            >\r\n              <ListItemText\r\n                primary={<NavText variant=\"h2\">{nav.title}</NavText>}\r\n              />\r\n            </ListItemLink>\r\n          ))}\r\n        </NavList>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MobileAppBar\r\n","import React from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport styled from 'styled-components'\r\nimport Container from '@material-ui/core/Container'\r\nimport { bps } from '../../utils/responsive'\r\nimport UnstyledLink from './UnstyledLink'\r\n\r\nconst StyledAppBar = styled(AppBar)`\r\n  && {\r\n    width: 100%;\r\n    background-color: white;\r\n    box-shadow: none;\r\n    ${bps.down('sm')} {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst AppBarTitle = styled(UnstyledLink)`\r\n  && {\r\n    font-weight: 700;\r\n    text-decoration: none;\r\n    margin-right: 5rem;\r\n\r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst NavLink = styled(UnstyledLink)`\r\n  && {\r\n    margin: 0 1.5rem -5px;\r\n    border-bottom: 5px solid transparent;\r\n\r\n    &:hover {\r\n      border-bottom: 5px solid #ffee4f;\r\n      text-decoration: none;\r\n    }\r\n  }\r\n`\r\n\r\nfunction DesktopAppBar(props) {\r\n  const { navs } = props\r\n  return (\r\n    <>\r\n      <StyledAppBar position=\"sticky\" color=\"default\">\r\n        <Container maxWidth=\"lg\">\r\n          <Toolbar disableGutters>\r\n            <AppBarTitle component={RouterLink} to=\"/\">\r\n              Vote for Hong Kong\r\n            </AppBarTitle>\r\n            {navs.map((nav, i) => (\r\n              <NavLink key={i} component={RouterLink} to={nav.url}>\r\n                {nav.title}\r\n              </NavLink>\r\n            ))}\r\n          </Toolbar>\r\n        </Container>\r\n      </StyledAppBar>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DesktopAppBar\r\n","import React, { Component } from 'react'\r\nimport MobileAppBar from './atom/MobileAppBar'\r\nimport DesktopAppBar from './atom/DesktopAppBar'\r\n\r\nconst navs = [\r\n  { url: '/', title: 'Search' },\r\n  { url: '/', title: 'District' },\r\n  { url: '/', title: 'People' },\r\n]\r\n\r\nclass NavBar extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <MobileAppBar navs={navs} />\r\n        <DesktopAppBar navs={navs} />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NavBar\r\n","import * as turf from '@turf/turf'\r\n\r\nimport dc2003 from '../data/DCCA_2003'\r\nimport dc2007 from '../data/DCCA_2007'\r\nimport dc2011 from '../data/DCCA_2011'\r\nimport dc2015 from '../data/DCCA_2015'\r\nimport dc2019 from '../data/DCCA_2019'\r\n\r\nexport const getAllFeaturesFromPoint = (\r\n  point,\r\n  featuresArray = [dc2003, dc2007, dc2011, dc2015, dc2019]\r\n) => {\r\n  const pt = turf.point([point.lng, point.lat])\r\n  const result = featuresArray.map(feature => {\r\n    let polygonProps = {}\r\n    for (let i = 0, n = feature.features.length; i < n; i++) {\r\n      const poly = turf.multiPolygon(feature.features[i].geometry.coordinates)\r\n      if (turf.booleanPointInPolygon(pt, poly)) {\r\n        polygonProps = { ...feature.features[i].properties }\r\n        break\r\n      }\r\n    }\r\n    return {\r\n      year: feature.name.split('_')[1],\r\n      ...polygonProps,\r\n    }\r\n  })\r\n  return result\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Autosuggest from 'react-autosuggest'\r\nimport match from 'autosuggest-highlight/match'\r\nimport parse from 'autosuggest-highlight/parse'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport * as AddressParser from 'hk-address-parser-lib'\r\nimport { getAllFeaturesFromPoint } from '../utils/features'\r\n\r\nfunction renderInputComponent(inputProps) {\r\n  const { classes, inputRef = () => {}, ref, ...other } = inputProps\r\n\r\n  return (\r\n    <>\r\n      <TextField\r\n        fullWidth\r\n        InputProps={{\r\n          inputRef: node => {\r\n            ref(node)\r\n            inputRef(node)\r\n          },\r\n          classes: {\r\n            input: classes.input,\r\n          },\r\n          disableUnderline: true,\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton className={classes.searchButton} aria-label=\"Search\">\r\n                <SearchIcon />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n        disableUnderline={true}\r\n        {...other}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\r\n  const matches = match(suggestion.label, query)\r\n  const parts = parse(suggestion.label, matches)\r\n\r\n  return (\r\n    <MenuItem selected={isHighlighted} component=\"div\">\r\n      {parts.map((part, index) =>\r\n        part.highlight ? (\r\n          <span key={String(index)} style={{ fontWeight: 500 }}>\r\n            {part.text}\r\n          </span>\r\n        ) : (\r\n          <strong key={String(index)} style={{ fontWeight: 300 }}>\r\n            {part.text}\r\n          </strong>\r\n        )\r\n      )}\r\n    </MenuItem>\r\n  )\r\n}\r\n\r\nfunction getSuggestionValue(suggestion) {\r\n  return suggestion.label\r\n}\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    height: 100,\r\n    flexGrow: 1,\r\n  },\r\n  container: {\r\n    position: 'relative',\r\n  },\r\n  suggestionsContainerOpen: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    // left: 0,\r\n    // right: 0,\r\n  },\r\n  suggestion: {\r\n    display: 'block',\r\n  },\r\n  suggestionsList: {\r\n    margin: 0,\r\n    padding: 0,\r\n    listStyleType: 'none',\r\n  },\r\n  suggestInput: {\r\n    height: '60px',\r\n    borderRadius: '4px',\r\n    boxShadow: '0 2px 16px 0 rgba(0, 0, 0, 0.1)',\r\n    backgroundColor: '#ffffff',\r\n    padding: '10px 20px',\r\n  },\r\n  input: {\r\n    textDecoration: 'none',\r\n  },\r\n  searchButton: {\r\n    color: '#ffd731',\r\n  },\r\n})\r\n\r\nclass IntegrationAutosuggest extends React.Component {\r\n  state = {\r\n    value: '',\r\n    suggestions: [],\r\n  }\r\n\r\n  async getSuggestions(value) {\r\n    const inputValue = value.trim().toLowerCase()\r\n    const inputLength = inputValue.length\r\n\r\n    if (inputLength > 0) {\r\n      const records = await AddressParser.parse(inputValue)\r\n      const result = records\r\n        .filter((_, index) => index < 10)\r\n        .map(record => ({\r\n          coordinate: record.coordinate(),\r\n          label: record.fullAddress(AddressParser.Address.LANG_ZH),\r\n        }))\r\n\r\n      return result\r\n    }\r\n\r\n    return []\r\n  }\r\n\r\n  handleSuggestionsFetchRequested = ({ value }) => {\r\n    this.getSuggestions(value).then(result => {\r\n      this.setState({\r\n        suggestions: result,\r\n      })\r\n    })\r\n  }\r\n\r\n  handleSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: [],\r\n    })\r\n  }\r\n\r\n  handleChange = name => (event, { newValue }) => {\r\n    this.setState({\r\n      [name]: newValue,\r\n    })\r\n  }\r\n\r\n  handleSuggestionSelected = (\r\n    event,\r\n    { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }\r\n  ) => {\r\n    this.props.handleAddressSelected(\r\n      getAllFeaturesFromPoint(suggestion.coordinate)\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n\r\n    const autosuggestProps = {\r\n      renderInputComponent,\r\n      suggestions: this.state.suggestions,\r\n      onSuggestionsFetchRequested: this.handleSuggestionsFetchRequested,\r\n      onSuggestionsClearRequested: this.handleSuggestionsClearRequested,\r\n      onSuggestionSelected: this.handleSuggestionSelected,\r\n      getSuggestionValue,\r\n      renderSuggestion,\r\n    }\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Autosuggest\r\n          {...autosuggestProps}\r\n          inputProps={{\r\n            classes,\r\n            placeholder: '尋找選區...',\r\n            value: this.state.value,\r\n            onChange: this.handleChange('value'),\r\n            inputRef: node => {\r\n              this.popperNode = node\r\n            },\r\n            InputLabelProps: {\r\n              shrink: true,\r\n            },\r\n          }}\r\n          theme={{\r\n            suggestionsList: classes.suggestionsList,\r\n            suggestion: classes.suggestion,\r\n            input: classes.suggestInput,\r\n          }}\r\n          renderSuggestionsContainer={options => (\r\n            <Paper\r\n              square\r\n              {...options.containerProps}\r\n              style={{\r\n                width: '100%',\r\n              }}\r\n            >\r\n              {options.children}\r\n            </Paper>\r\n          )}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nIntegrationAutosuggest.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(IntegrationAutosuggest)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport deburr from 'lodash/deburr'\r\nimport Autosuggest from 'react-autosuggest'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport { withApollo } from 'react-apollo'\r\nimport gql from 'graphql-tag'\r\n\r\nconst GET_PEOPLE = gql`\r\n  query($nameRegex: String) {\r\n    dc_people(\r\n      where: {\r\n        _or: [\r\n          { name_zh: { _like: $nameRegex } }\r\n          { name_en: { _like: $nameRegex } }\r\n        ]\r\n      }\r\n      limit: 50\r\n    ) {\r\n      id\r\n      name_zh\r\n      name_en\r\n    }\r\n  }\r\n`\r\n\r\nfunction renderInputComponent(inputProps) {\r\n  const { classes, inputRef = () => {}, ref, ...other } = inputProps\r\n\r\n  return (\r\n    <>\r\n      <TextField\r\n        fullWidth\r\n        InputProps={{\r\n          inputRef: node => {\r\n            ref(node)\r\n            inputRef(node)\r\n          },\r\n          classes: {\r\n            input: classes.input,\r\n          },\r\n          disableUnderline: true,\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton className={classes.searchButton} aria-label=\"Search\">\r\n                <SearchIcon />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n        disableUnderline={true}\r\n        {...other}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\r\n  // todo: use ENV_VAR\r\n  const homeUrl = 'https://cswbrian.github.io/district-councils-dashboard/'\r\n  const { id, name_zh, name_en } = suggestion\r\n  const avatarPath = id\r\n    ? `${homeUrl}/static/images/avatar/${id}.jpg`\r\n    : `${homeUrl}/static/images/avatar/default.png`\r\n\r\n  // keyword this is not accessible here. so define the style here\r\n  const suggestionNameStyle = {\r\n    marginLeft: '20px',\r\n    lineHeight: '45px',\r\n  }\r\n  const boldStyle = {\r\n    fontWeight: '800',\r\n  }\r\n  const selectedSuggestionNameStyle = {\r\n    ...suggestionNameStyle,\r\n    ...boldStyle,\r\n  }\r\n\r\n  return (\r\n    <MenuItem selected={isHighlighted} component=\"div\">\r\n      <Avatar\r\n        src={avatarPath}\r\n        imgProps={{\r\n          onError: e => {\r\n            e.target.src = `${homeUrl}/static/images/avatar/default.png`\r\n          },\r\n        }}\r\n        style={{\r\n          width: '48px',\r\n          height: '48px',\r\n          borderRadius: 0,\r\n        }}\r\n      />\r\n      <span\r\n        style={\r\n          isHighlighted ? suggestionNameStyle : selectedSuggestionNameStyle\r\n        }\r\n      >\r\n        {name_zh ? name_zh : name_en}\r\n      </span>\r\n    </MenuItem>\r\n  )\r\n}\r\n\r\nfunction getSuggestionValue(suggestion) {\r\n  return suggestion.name_zh ? suggestion.name_zh : suggestion.name_en\r\n}\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    height: 100,\r\n    flexGrow: 1,\r\n  },\r\n  container: {\r\n    position: 'relative',\r\n  },\r\n  suggestionsContainerOpen: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    // left: 0,\r\n    // right: 0,\r\n  },\r\n  suggestion: {\r\n    display: 'block',\r\n  },\r\n  suggestionsList: {\r\n    margin: 0,\r\n    padding: 0,\r\n    listStyleType: 'none',\r\n  },\r\n  suggestInput: {\r\n    height: '60px',\r\n    borderRadius: '4px',\r\n    boxShadow: '0 2px 16px 0 rgba(0, 0, 0, 0.1)',\r\n    backgroundColor: '#ffffff',\r\n    padding: '10px 20px',\r\n  },\r\n  input: {\r\n    textDecoration: 'none',\r\n  },\r\n  searchButton: {\r\n    color: '#ffd731',\r\n  },\r\n})\r\n\r\nclass PeopleSearcher extends React.Component {\r\n  state = {\r\n    single: '',\r\n    popper: '',\r\n    suggestions: [],\r\n  }\r\n\r\n  getSuggestions(value) {\r\n    const inputValue = deburr(value.trim()).toLowerCase()\r\n    const inputLength = inputValue.length\r\n\r\n    return inputLength === 0\r\n      ? []\r\n      : this.state.suggestions.filter(\r\n          suggestion => suggestion.name && suggestion.name.includes(value)\r\n        )\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { data } = await this.props.client.query({\r\n      query: GET_PEOPLE,\r\n      variables: {\r\n        nameRegex: '%',\r\n      },\r\n    })\r\n    this.setState({ suggestions: data.dc_people })\r\n  }\r\n\r\n  handleSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: [],\r\n    })\r\n  }\r\n\r\n  handleChange = name => (event, { newValue }) => {\r\n    this.setState({\r\n      [name]: newValue,\r\n    })\r\n  }\r\n\r\n  handleSuggestionSelected = (\r\n    event,\r\n    { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }\r\n  ) => {\r\n    this.props.handlePeopleSelected(suggestion)\r\n  }\r\n\r\n  // Autosuggest will call this function every time you need to update suggestions.\r\n  // You already implemented this logic above, so just use it.\r\n  onSuggestionsFetchRequested = async ({ value, reason }) => {\r\n    if (true) {\r\n      const { data } = await this.props.client.query({\r\n        query: GET_PEOPLE,\r\n        variables: {\r\n          nameRegex: `%${value}%`,\r\n        },\r\n      })\r\n      this.setState({ suggestions: data.dc_people })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n\r\n    const autosuggestProps = {\r\n      renderInputComponent,\r\n      suggestions: this.state.suggestions,\r\n      onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\r\n      onSuggestionsClearRequested: this.handleSuggestionsClearRequested,\r\n      onSuggestionSelected: this.handleSuggestionSelected,\r\n      getSuggestionValue,\r\n      renderSuggestion,\r\n    }\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Autosuggest\r\n          {...autosuggestProps}\r\n          inputProps={{\r\n            classes,\r\n            placeholder: '尋找議員...',\r\n            value: this.state.popper,\r\n            onChange: this.handleChange('popper'),\r\n            inputRef: node => {\r\n              this.popperNode = node\r\n            },\r\n            InputLabelProps: {\r\n              shrink: true,\r\n            },\r\n          }}\r\n          theme={{\r\n            suggestionsList: classes.suggestionsList,\r\n            suggestion: classes.suggestion,\r\n            input: classes.suggestInput,\r\n          }}\r\n          renderSuggestionsContainer={options => (\r\n            <Paper\r\n              square\r\n              {...options.containerProps}\r\n              style={{\r\n                width: '100%',\r\n              }}\r\n            >\r\n              {options.children}\r\n            </Paper>\r\n          )}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPeopleSearcher.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withApollo(withStyles(styles)(PeopleSearcher))\r\n","import React, { Component } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport styled from 'styled-components'\r\nimport Box from '@material-ui/core/Box'\r\nimport area from '../../data/area'\r\nimport district from '../../data/district'\r\nimport Button from '@material-ui/core/Button'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Container = styled.div`\r\n   {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n`\r\n\r\nconst SideBar = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    min-width: 200px;\r\n    max-width: 200px;\r\n  }\r\n`\r\n\r\nconst MainContent = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    align-items: baseline;\r\n    padding-left: 32px;\r\n    padding-right: 32px;\r\n    flex-grow: 1;\r\n  }\r\n`\r\n\r\nconst SideBarItem = styled(Button)`\r\n  && {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst DistrictContainer = styled(Button)`\r\n  && {\r\n    width: 120px;\r\n    justify-content: left;\r\n  }\r\n`\r\n\r\nclass DistrictSelector extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      selectedDistrict: null,\r\n    }\r\n  }\r\n  renderDCCA = code => {\r\n    if (!code) return null\r\n    return (\r\n      <div>\r\n        {Object.keys(district['2019'][code]).map(dcca => {\r\n          return (\r\n            <DistrictContainer\r\n              component={NavLink}\r\n              to={`/district/2019/${dcca}`}\r\n              key={district['2019'][code][dcca].code}\r\n              color=\"secondary\"\r\n            >\r\n              <Typography variant=\"h6\">\r\n                {district['2019'][code][dcca].name}\r\n              </Typography>\r\n            </DistrictContainer>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <SideBar>\r\n          {area.map(a => (\r\n            <SideBarItem\r\n              key={a.dccode}\r\n              color=\"primary\"\r\n              onClick={() => this.setState({ selectedDistrict: a.dccode })}\r\n            >\r\n              {a.dname_chi}\r\n            </SideBarItem>\r\n          ))}\r\n        </SideBar>\r\n        <MainContent>\r\n          <Typography variant=\"subtitle1\">\r\n            {this.renderDCCA(this.state.selectedDistrict)}\r\n          </Typography>\r\n        </MainContent>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DistrictSelector\r\n","import React, { Component } from 'react'\r\n\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Button from '@material-ui/core/Button'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport AddressSearcher from '../../components/AddressSearcher'\r\nimport PeopleSearcher from '../../components/PeopleSearcher'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport styled from 'styled-components'\r\nimport { bps } from 'utils/responsive'\r\nimport DistrictSelector from 'components/search/DistrictSelector'\r\n\r\nimport * as AddressParser from 'hk-address-parser-lib'\r\n\r\nconst styles = theme => ({})\r\n\r\nconst StyledDivier = styled(Divider)`\r\n  && {\r\n    background-color: #ececec;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst Container = styled.div`\r\n  ${bps.up('md')} {\r\n    width: 100%;\r\n  }\r\n\r\n  ${bps.up('lg')} {\r\n    width: 1440px;\r\n  }\r\n  padding-top: 50px;\r\n  margin: auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  align-items: baseline;\r\n  padding-left: 32px;\r\n  padding-right: 32px;\r\n  flex-grow: 1;\r\n`\r\n\r\nconst RowContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    justify-content: center;\r\n    flex-grow: 1;\r\n  }\r\n`\r\n\r\nconst ContentRowContainer = styled(RowContainer)`\r\n  && {\r\n    flex-flow: row;\r\n    ${bps.down('md')} {\r\n      flex-flow: column;\r\n    }\r\n  }\r\n`\r\n\r\nconst TabButton = styled(Button)`\r\n  && {\r\n    width: 200px;\r\n    margin-left: 30px;\r\n    margin-right: 30px;\r\n    padding-bottom: 30px;\r\n    text-align: center;\r\n    color: ${props => (props.active ? '#ffd731' : '#c2c2c2')};\r\n\r\n    border-bottom: ${props => (props.active ? '1px solid #ffd731' : 'none')};\r\n\r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst ContentContainer = styled(Box)`\r\n  && {\r\n    margin: 50px;\r\n    width: 50%;\r\n    ${bps.down('md')} {\r\n      width: 100%;\r\n    }\r\n    justify-content: center;\r\n  }\r\n`\r\nconst LandingIcon = styled.div`\r\n  margin-top: 70px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  width: 461px;\r\n  height: 295px;\r\n\r\n  ${bps.down('md')} {\r\n    width: 200px;\r\n    height: 128px;\r\n  }\r\n  background: url('/static/images/landingIcon.svg') no-repeat;\r\n  background-size: cover;\r\n`\r\n\r\nclass SearchPage extends Component {\r\n  selectedTab\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      autoCompleteList: [],\r\n      selectedTab: 'district',\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {}\r\n\r\n  async onAddressFieldChanged(evt) {\r\n    const { value } = evt.target\r\n    const records = await AddressParser.parse(value)\r\n    this.setState({\r\n      autoCompleteList: records,\r\n    })\r\n  }\r\n\r\n  handlePeopleSelected = result => {\r\n    this.props.history.push(`profile/${result.id}`)\r\n  }\r\n\r\n  handleAddressSelected = result => {\r\n    if (!result) return\r\n\r\n    const lastest = result.pop()\r\n\r\n    /* TODO: \r\n      Use context (?) to store the Global district result array\r\n      When user select click previous button in district page, \r\n      the CACODE should follow follow the above result\r\n    */\r\n\r\n    this.props.history.push(`district/${lastest.year}/${lastest.CACODE}`)\r\n  }\r\n\r\n  renderSearchPeople() {\r\n    return (\r\n      <ContentRowContainer>\r\n        <ContentContainer>\r\n          <PeopleSearcher handlePeopleSelected={this.handlePeopleSelected} />\r\n        </ContentContainer>\r\n        <ContentContainer>{/* TODO */}</ContentContainer>\r\n      </ContentRowContainer>\r\n    )\r\n  }\r\n  onTabSelected(tab) {\r\n    return () => {\r\n      this.setState({\r\n        selectedTab: tab,\r\n      })\r\n    }\r\n  }\r\n\r\n  renderSearchDistrict() {\r\n    return (\r\n      <ContentRowContainer>\r\n        <ContentContainer>\r\n          <AddressSearcher handleAddressSelected={this.handleAddressSelected} />\r\n          <LandingIcon />\r\n        </ContentContainer>\r\n        <ContentContainer>\r\n          <DistrictSelector />\r\n        </ContentContainer>\r\n      </ContentRowContainer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { selectedTab } = this.state\r\n    const isSearchPeople = selectedTab === 'people'\r\n    console.log(selectedTab)\r\n    return (\r\n      <Container>\r\n        <RowContainer>\r\n          <TabButton\r\n            active={!isSearchPeople}\r\n            onClick={this.onTabSelected('district').bind(this)}\r\n          >\r\n            <Typography variant=\"h2\">找選區</Typography>\r\n          </TabButton>\r\n          <TabButton\r\n            active={isSearchPeople}\r\n            onClick={this.onTabSelected('people').bind(this)}\r\n          >\r\n            <Typography variant=\"h2\">找議員</Typography>\r\n          </TabButton>\r\n        </RowContainer>\r\n        <StyledDivier />\r\n        {isSearchPeople\r\n          ? this.renderSearchPeople()\r\n          : this.renderSearchDistrict()}\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(SearchPage)\r\n","import React, { Component } from 'react'\r\nimport Box from '@material-ui/core/Box'\r\nimport styled, { css } from 'styled-components'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport moment from 'moment'\r\nimport gql from 'graphql-tag'\r\nimport { Query } from 'react-apollo'\r\nimport { bps } from 'utils/responsive'\r\n\r\n// TODO: add age, camp & political_affiliation\r\nconst GET_PEOPLE_PROFILE = gql`\r\n  query($id: uuid!) {\r\n    dc_people(\r\n      where: { id: { _eq: $id } }\r\n      order_by: { elections_aggregate: { max: { year: asc } } }\r\n    ) {\r\n      id\r\n      name_en\r\n      name_zh\r\n      estimated_yob\r\n      gender\r\n      elections {\r\n        occupation\r\n        cacode\r\n        year\r\n        votes\r\n        vote_percentage\r\n        is_won\r\n        constituency {\r\n          name_zh\r\n          expected_population\r\n          deviation_percentage\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst commonFontStyle = css`\r\n  font-family: 'PingFangTC-Light';\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n`\r\n\r\nconst CandidateName = styled.div`\r\n   {\r\n    ${commonFontStyle}\r\n    margin: 20px;\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    color: #ffffff;\r\n    ${bps.up('sm')} {\r\n      margin: 0px;\r\n      margin-top: 50px;\r\n      font-size: 30px;\r\n    }\r\n\r\n    ${bps.up('md')} {\r\n      margin-top: 50px;\r\n      font-size: 48px;\r\n    }\r\n  }\r\n`\r\n\r\nconst DistrictName = styled.div`\r\n   {\r\n    ${commonFontStyle}\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #ffffff;\r\n    ${bps.up('sm')} {\r\n      font-size: 20px;\r\n    }\r\n\r\n    ${bps.up('md')} {\r\n      font-size: 36px;\r\n    }\r\n  }\r\n`\r\n\r\nconst FlexRowContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: flex-start;\r\n    margin: auto;\r\n\r\n    ${bps.up('md')} {\r\n      width: 100%;\r\n    }\r\n\r\n    ${bps.up('lg')} {\r\n      width: 1440px;\r\n    }\r\n  }\r\n`\r\n\r\nconst CandidateHeaderContainer = styled(FlexRowContainer)`\r\n  && {\r\n    opacity: 0.95;\r\n    background-color: #f6416e;\r\n  }\r\n`\r\n\r\nconst CandidateAvatar = styled(Avatar)`\r\n  && {\r\n    width: 153px;\r\n    height: 180px;\r\n    border-radius: 0;\r\n\r\n    ${bps.up('sm')} {\r\n      margin-top: 40px;\r\n      margin-left: 60px;\r\n    }\r\n\r\n    ${bps.up('md')} {\r\n      margin-left: 120px;\r\n    }\r\n  }\r\n`\r\n\r\nconst BasicInfoHeader = styled.div`\r\n  && {\r\n    ${commonFontStyle}\r\n    font-size: 32px;\r\n    font-weight: 600;\r\n    width: 100%;\r\n\r\n    ${bps.up('md')} {\r\n      margin-left: 65px;\r\n    }\r\n  }\r\n`\r\nconst ElectionHistoryContainer = styled(FlexRowContainer)`\r\n  && {\r\n    padding: 20px;\r\n    background-color: #fafafa;\r\n    ${bps.up('sm')} {\r\n      padding-left: 40px;\r\n    }\r\n\r\n    ${bps.up('md')} {\r\n      padding-left: 120px;\r\n      height: 100%;\r\n    }\r\n  }\r\n`\r\nconst ElectionHistoryHeader = styled.div`\r\n  && {\r\n    ${commonFontStyle}\r\n    font-size: 32px;\r\n    font-weight: 600;\r\n    color: #333333;\r\n    margin-top: 4px;\r\n  }\r\n`\r\n\r\nconst YearDiv = styled.div`\r\n  && {\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    color: #9b9b9b;\r\n    margin-bottom: 20px;\r\n  }\r\n`\r\n\r\nconst ElectionHistoryPaper = styled(Paper)`\r\n  && {\r\n    padding: 20px;\r\n  }\r\n`\r\n\r\nconst ElectionHistoryContentGrid = styled(Grid)`\r\n  && {\r\n    padding: 15px;\r\n  }\r\n`\r\n\r\nconst ElectionHistoryContentSpan = styled(Grid)`\r\n  && {\r\n    ${commonFontStyle}\r\n    font-size: 18px;\r\n    color: #4a4a4a;\r\n  }\r\n`\r\n\r\nconst ElectionHistoryContentHeaderSpan = styled(ElectionHistoryContentSpan)`\r\n  && {\r\n    font-weight: 500;\r\n  }\r\n`\r\nconst ElectionDetailButton = styled.div`\r\n  && {\r\n    ${commonFontStyle}\r\n    padding: 15px;\r\n    font-weight: 600;\r\n    color: #ffb700;\r\n    width: 100%;\r\n    text-align: center;\r\n    border-radius: 4px;\r\n    border: 2px solid #ffb700;\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst BasicInfoGridContainer = styled(FlexRowContainer)`\r\n  && {\r\n    margin-top: 40px;\r\n    margin-left: 20px;\r\n    margin-bottom: 40px;\r\n\r\n    ${bps.up('sm')} {\r\n      padding-left: 40px;\r\n      margin-left: auto;\r\n      margin-right: auto;\r\n    }\r\n\r\n    ${bps.up('md')} {\r\n      padding-left: 55px;\r\n      height: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst BasicInfoGridHeader = styled(Grid)`\r\n  && {\r\n    ${commonFontStyle}\r\n    font-weight: 600;\r\n    color: #4a4a4a;\r\n    font-size: 18px;\r\n  }\r\n`\r\n\r\nconst BasicInfoGridContent = styled(Grid)`\r\n  && {\r\n    ${commonFontStyle}\r\n    color: #4a4a4a;\r\n    font-size: 18px;\r\n  }\r\n`\r\n\r\nclass ProfilePage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  async componentDidMount() {}\r\n\r\n  handleElectionDetailButton = (year, code) => {\r\n    this.props.history.push(`/district/${year}/${code}`)\r\n  }\r\n\r\n  renderElectionInfoCard(election, yob) {\r\n    console.log(election)\r\n    return (\r\n      <Grid item xs={12} md={4}>\r\n        <YearDiv>{`${election.year}年`}</YearDiv>\r\n        <ElectionHistoryPaper>\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionHistoryContentHeaderSpan item xs={12} md={4}>\r\n              地區\r\n            </ElectionHistoryContentHeaderSpan>\r\n            <ElectionHistoryContentSpan item xs={12} md={8}>\r\n              {' '}\r\n              {election.constituency && election.constituency.name\r\n                ? election.constituency.name\r\n                : '-'}{' '}\r\n            </ElectionHistoryContentSpan>\r\n          </ElectionHistoryContentGrid>\r\n          <hr />\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionHistoryContentHeaderSpan item xs={12} md={4}>\r\n              選區\r\n            </ElectionHistoryContentHeaderSpan>\r\n            <ElectionHistoryContentSpan item xs={12} md={8}>\r\n              {`${election.constituency.name_zh} （${election.cacode}）`}\r\n            </ElectionHistoryContentSpan>\r\n          </ElectionHistoryContentGrid>\r\n          <hr />\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionHistoryContentHeaderSpan item xs={12} md={4}>\r\n              陣營\r\n            </ElectionHistoryContentHeaderSpan>\r\n            <ElectionHistoryContentSpan item xs={12} md={8}>\r\n              {election.camp ? election.camp : '-'}\r\n            </ElectionHistoryContentSpan>\r\n          </ElectionHistoryContentGrid>\r\n          <hr />\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionHistoryContentHeaderSpan item xs={12} md={4}>\r\n              得票率\r\n            </ElectionHistoryContentHeaderSpan>\r\n            <ElectionHistoryContentSpan item xs={12} md={8}>\r\n              {`${election.vote_percentage}% （${\r\n                election.is_won ? '當選' : '落敗'\r\n              }）`}\r\n            </ElectionHistoryContentSpan>\r\n          </ElectionHistoryContentGrid>\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionDetailButton\r\n              onClick={() => {\r\n                this.handleElectionDetailButton(election.year, election.cacode)\r\n              }}\r\n            >\r\n              查看選舉資料\r\n            </ElectionDetailButton>\r\n          </ElectionHistoryContentGrid>\r\n        </ElectionHistoryPaper>\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      match: {\r\n        params: { id },\r\n      },\r\n    } = this.props\r\n\r\n    // todo: use ENV_VAR\r\n    const homeUrl = 'https://cswbrian.github.io/district-councils-dashboard/'\r\n\r\n    return (\r\n      <Query query={GET_PEOPLE_PROFILE} variables={{ id }}>\r\n        {({ loading, error, data }) => {\r\n          if (loading) return null\r\n          if (error) return `Error! ${error}`\r\n          const person = data.dc_people[0]\r\n\r\n          return (\r\n            <>\r\n              <CandidateHeaderContainer>\r\n                <Box\r\n                  width={{ sm: '250px', md: '300px' }}\r\n                  height={{ sm: '200px' }}\r\n                >\r\n                  <CandidateAvatar\r\n                    src={`${homeUrl}/static/images/avatar/${person.id}.jpg`}\r\n                    imgProps={{\r\n                      onError: e => {\r\n                        e.target.src = `${homeUrl}/static/images/avatar/default.png`\r\n                      },\r\n                    }}\r\n                  ></CandidateAvatar>\r\n                </Box>\r\n                <Box>\r\n                  <CandidateName>\r\n                    {person.name_zh ? person.name_zh : ''}{' '}\r\n                    {person.name_zh ? person.name_en : ''}\r\n                    <DistrictName>{/* TODO */}-</DistrictName>\r\n                  </CandidateName>\r\n                </Box>\r\n              </CandidateHeaderContainer>\r\n\r\n              <BasicInfoGridContainer>\r\n                <Grid container spacing={3}>\r\n                  <Grid item xs={12} md={3}>\r\n                    <BasicInfoHeader>基本資料</BasicInfoHeader>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6} md={4}>\r\n                    <Grid container spacing={3}>\r\n                      <BasicInfoGridHeader item xs={5}>\r\n                        性別\r\n                      </BasicInfoGridHeader>\r\n                      <BasicInfoGridContent item xs={7}>\r\n                        {person.gender\r\n                          ? person.gender === 'male'\r\n                            ? '男'\r\n                            : '女'\r\n                          : '-'}\r\n                      </BasicInfoGridContent>\r\n\r\n                      <BasicInfoGridHeader item xs={5}>\r\n                        年齡\r\n                      </BasicInfoGridHeader>\r\n                      <BasicInfoGridContent item xs={7}>\r\n                        {person.estimated_yob\r\n                          ? `${moment().year() - person.estimated_yob}歲`\r\n                          : '-'}\r\n                      </BasicInfoGridContent>\r\n\r\n                      <BasicInfoGridHeader item xs={5}>\r\n                        出生年份\r\n                      </BasicInfoGridHeader>\r\n                      <BasicInfoGridContent item xs={7}>\r\n                        {person.estimated_yob ? person.estimated_yob : '-'}\r\n                      </BasicInfoGridContent>\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6} md={4}>\r\n                    <Grid container spacing={3}>\r\n                      <BasicInfoGridHeader item xs={5}>\r\n                        職業\r\n                      </BasicInfoGridHeader>\r\n                      <BasicInfoGridContent item xs={7}>\r\n                        {person.elections[person.elections.length - 1]\r\n                          .occupation\r\n                          ? person.elections[person.elections.length - 1]\r\n                              .occupation\r\n                          : '-'}\r\n                      </BasicInfoGridContent>\r\n\r\n                      <BasicInfoGridHeader item xs={5}>\r\n                        陣營\r\n                      </BasicInfoGridHeader>\r\n                      <BasicInfoGridContent item xs={7}>\r\n                        {/* TODO */}-\r\n                      </BasicInfoGridContent>\r\n\r\n                      <BasicInfoGridHeader item xs={5}>\r\n                        所屬政治聯繫\r\n                      </BasicInfoGridHeader>\r\n                      <BasicInfoGridContent item xs={7}>\r\n                        {/* TODO */}-\r\n                      </BasicInfoGridContent>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </BasicInfoGridContainer>\r\n\r\n              <ElectionHistoryContainer>\r\n                <Grid container spacing={3}>\r\n                  <Grid item xs={12}>\r\n                    <ElectionHistoryHeader>區議會選舉</ElectionHistoryHeader>\r\n                  </Grid>\r\n\r\n                  {person.elections\r\n                    .sort((a, b) => b.year - a.year)\r\n                    .map(election =>\r\n                      this.renderElectionInfoCard(\r\n                        election,\r\n                        person.estimated_yob\r\n                      )\r\n                    )}\r\n                </Grid>\r\n              </ElectionHistoryContainer>\r\n            </>\r\n          )\r\n        }}\r\n      </Query>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProfilePage\r\n","import React, { Component } from 'react'\r\nimport Map from 'ol/Map'\r\nimport View from 'ol/View'\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport VectorLayer from 'ol/layer/Vector'\r\nimport VectorSource from 'ol/source/Vector'\r\nimport XYZ from 'ol/source/XYZ'\r\nimport GeoJSON from 'ol/format/GeoJSON'\r\nimport { Style, Stroke, Fill, Text } from 'ol/style'\r\nimport Select from 'ol/interaction/Select'\r\nimport styled from 'styled-components'\r\n\r\nimport dc2003 from '../data/DCCA_2003'\r\nimport dc2007 from '../data/DCCA_2007'\r\nimport dc2011 from '../data/DCCA_2011'\r\nimport dc2015 from '../data/DCCA_2015'\r\nimport dc2019 from '../data/DCCA_2019'\r\n\r\nconst MapContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\n\r\nconst regionStyle = new Style({\r\n  fill: new Fill({\r\n    color: 'rgba(255, 255, 255, 0.2)',\r\n  }),\r\n  stroke: new Stroke({\r\n    color: '#319FD3',\r\n    width: 1,\r\n  }),\r\n  text: new Text({\r\n    font: '16px Calibri,sans-serif',\r\n    fill: new Fill({\r\n      color: '#000',\r\n    }),\r\n    stroke: new Stroke({\r\n      color: '#fff',\r\n      width: 2,\r\n    }),\r\n  }),\r\n})\r\n\r\nconst highlightStyle = new Style({\r\n  stroke: new Stroke({\r\n    color: '#f00',\r\n    width: 1,\r\n  }),\r\n  fill: new Fill({\r\n    color: 'rgba(255,0,0,0.1)',\r\n  }),\r\n  text: new Text({\r\n    font: '16px Calibri,sans-serif',\r\n    fill: new Fill({\r\n      color: '#000',\r\n    }),\r\n    stroke: new Stroke({\r\n      color: '#f00',\r\n      width: 2,\r\n    }),\r\n  }),\r\n})\r\n\r\nclass OLMap extends Component {\r\n  featureOverlay\r\n  highlightedFeature\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { year, code } = this.props\r\n    const dc = [dc2003, dc2007, dc2011, dc2015, dc2019].find(\r\n      d => d.name === `DCCA_${year}`\r\n    )\r\n    let isDCDataExist = dc ? true : false\r\n    let featuresLayer\r\n\r\n    if (isDCDataExist) {\r\n      this.featureSource = new VectorSource({\r\n        features: new GeoJSON().readFeatures(dc),\r\n      })\r\n\r\n      featuresLayer = new VectorLayer({\r\n        source: this.featureSource,\r\n        style: feature => {\r\n          regionStyle.getText().setText(feature.getProperties().CNAME)\r\n          return regionStyle\r\n        },\r\n      })\r\n    }\r\n\r\n    // create map object with feature layer\r\n    const layers = [\r\n      //default OSM layer\r\n      new TileLayer({\r\n        source: new XYZ({\r\n          url:\r\n            'https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}',\r\n        }),\r\n      }),\r\n    ]\r\n\r\n    if (isDCDataExist) {\r\n      layers.push(featuresLayer)\r\n    }\r\n\r\n    const map = new Map({\r\n      target: this.refs.mapContainer,\r\n      layers,\r\n      view: new View({\r\n        projection: 'EPSG:4326',\r\n        center: [114.2029, 22.3844],\r\n        zoom: 13,\r\n      }),\r\n    })\r\n\r\n    this.featureOverlay = new VectorLayer({\r\n      source: new VectorSource(),\r\n      map: map,\r\n      style: function(feature) {\r\n        highlightStyle.getText().setText(`${feature.getProperties().CNAME}`)\r\n        return highlightStyle\r\n      },\r\n    })\r\n\r\n    if (isDCDataExist) {\r\n      // Fit to feature\r\n      const features = this.featureSource.getFeatures()\r\n      for (let i = 0; i < features.length; i++) {\r\n        if (features[i].getProperties().CACODE === code) {\r\n          const extent = features[i].getGeometry().getExtent()\r\n          map.getView().fit(extent, {\r\n            size: map.getSize(),\r\n            padding: [10, 10, 10, 10],\r\n          })\r\n\r\n          this.highlightFeature(features[i])\r\n          break\r\n        }\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      map,\r\n      view: map.getView(),\r\n      featuresLayer: isDCDataExist ? featuresLayer : null,\r\n    })\r\n\r\n    const select = new Select()\r\n\r\n    if (select !== null) {\r\n      map.addInteraction(select)\r\n      select.on('select', this.handleMapClick)\r\n    }\r\n  }\r\n\r\n  highlightFeature(feature) {\r\n    if (this.highlightedFeature) {\r\n      this.featureOverlay.getSource().removeFeature(this.highlightedFeature)\r\n    }\r\n\r\n    this.featureOverlay.getSource().addFeature(feature)\r\n    this.highlightedFeature = feature\r\n  }\r\n\r\n  handleMapClick = e => {\r\n    const { year, changeDistrict } = this.props\r\n    const selectedFeature = e.target.getFeatures().item(0)\r\n\r\n    if (selectedFeature) {\r\n      this.highlightFeature(selectedFeature)\r\n      changeDistrict(year, selectedFeature.get('CACODE'))\r\n      this.state.map.getView().fit(selectedFeature.getGeometry().getExtent(), {\r\n        duration: 200,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <MapContainer ref=\"mapContainer\"> </MapContainer>\r\n  }\r\n}\r\n\r\nexport default OLMap\r\n","import React, { Component } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport styled from 'styled-components'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Box from '@material-ui/core/Box'\r\nimport PropTypes from 'prop-types'\r\nimport { bps } from 'utils/responsive'\r\n\r\nconst Container = styled(Paper)`\r\n  && {\r\n    width: 400px;\r\n    height: 400px;\r\n    background-color: #f6f6f6;\r\n    padding: 0;\r\n\r\n    ${bps.down('md')} {\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst InnerContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    align-items: baseline;\r\n    padding-left: 32px;\r\n    padding-right: 32px;\r\n  }\r\n`\r\n\r\nconst YearText = styled(Typography)`\r\n  && {\r\n    font-family: Avenir;\r\n    font-size: 30px;\r\n    font-weight: 900;\r\n    color: #333333;\r\n  }\r\n`\r\n\r\nconst RegionText = styled(Typography)`\r\n  && {\r\n    width: 100%;\r\n    font-family: PingFangTC-Medium;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n    color: #ffb700;\r\n  }\r\n`\r\n\r\nconst CodeText = styled(Typography)`\r\n  && {\r\n    margin-left: 10px;\r\n    font-family: PingFangTC-Light;\r\n    font-size: 40px;\r\n    font-weight: 300;\r\n    color: #9b9b9b;\r\n  }\r\n`\r\n\r\nconst StyledDivier = styled(Divider)`\r\n  && {\r\n    margin-top: 40px;\r\n    background-color: #cecece;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst SeperatedRow = styled(Box)`\r\n  && {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    width: 100%;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n`\r\n\r\nfunction getCouncillor(candidates) {\r\n  const councillor = {\r\n    name: '',\r\n    politicalAffiliation: '',\r\n  }\r\n\r\n  const electedCandidate = candidates.find(candidate => candidate.is_won)\r\n  if (electedCandidate) {\r\n    councillor.name =\r\n      electedCandidate.person.name_zh || electedCandidate.person.name_en\r\n    if (electedCandidate.person.political_affiliations.length) {\r\n      const political_affiliation =\r\n        electedCandidate.person.political_affiliations[0].political_affiliation\r\n      councillor.political_affiliation = political_affiliation.name_zh\r\n    }\r\n  }\r\n\r\n  return councillor\r\n}\r\n\r\nclass DistrictCard extends Component {\r\n  static propTypes = {\r\n    year: PropTypes.number.isRequired,\r\n    code: PropTypes.string.isRequired,\r\n    name_zh: PropTypes.string.isRequired,\r\n    name_en: PropTypes.string.isRequired,\r\n    onPrevElection: PropTypes.func.isRequired,\r\n    onNextElection: PropTypes.func.isRequired,\r\n    candidates: PropTypes.array.isRequired,\r\n  }\r\n\r\n  renderPrevElectionButton(year) {\r\n    return year > 1999 ? (\r\n      <IconButton aria-label=\"arrow_back\" onClick={this.props.onPrevElection}>\r\n        <ArrowBackIcon />\r\n      </IconButton>\r\n    ) : (\r\n      // if there is no next button, show a 48x48 empty box to align the 2 elements on the right\r\n      <div style={{ width: '48px', height: '48px' }}></div>\r\n    )\r\n  }\r\n\r\n  renderNextElectionButton(year) {\r\n    const nextElectionYear = year + 4\r\n    const currentYear = new Date().getFullYear()\r\n    return nextElectionYear <= currentYear ? (\r\n      <IconButton\r\n        aria-label=\"arrow_forward\"\r\n        onClick={this.props.onNextElection}\r\n      >\r\n        <ArrowForwardIcon />\r\n      </IconButton>\r\n    ) : (\r\n      // if there is no next button, show a 48x48 empty box to align the 2 elements on the left\r\n      <div style={{ width: '48px', height: '48px' }}></div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { name_zh, year, code, candidates } = this.props\r\n    const councillor = getCouncillor(candidates)\r\n    return (\r\n      <Container>\r\n        <InnerContainer border={0} color=\"primary.minor\">\r\n          <SeperatedRow>\r\n            {this.renderPrevElectionButton(year)}\r\n            <YearText variant=\"button\" gutterBottom>\r\n              {year}\r\n            </YearText>\r\n            {this.renderNextElectionButton(year)}\r\n          </SeperatedRow>\r\n          <RegionText>--區</RegionText>\r\n          <Typography variant=\"h3\">{name_zh}</Typography>\r\n          <CodeText>{code}</CodeText>\r\n          <StyledDivier />\r\n          <SeperatedRow>\r\n            <Typography variant=\"h6\">區議員</Typography>\r\n            <Typography>{councillor.name}</Typography>\r\n          </SeperatedRow>\r\n          <SeperatedRow>\r\n            <Typography variant=\"h6\">政治聯繫</Typography>\r\n            <Typography>{councillor.political_affiliation}</Typography>\r\n          </SeperatedRow>\r\n          <SeperatedRow>\r\n            <Typography variant=\"h6\">投票站</Typography>\r\n            <Typography variant=\"subtitle2\">-</Typography>\r\n          </SeperatedRow>\r\n        </InnerContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DistrictCard\r\n","import React, { Component } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport styled from 'styled-components'\r\nimport Box from '@material-ui/core/Box'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Container = styled.div`\r\n   {\r\n    width: 100%;\r\n    height: 220px;\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nclass MainAreas extends Component {\r\n  static propTypes = {\r\n    areas: PropTypes.array.isRequired,\r\n  }\r\n\r\n  render() {\r\n    const { areas } = this.props\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          主要屋邨 / 地區\r\n        </Typography>\r\n        <Box display=\"flex\" flexWrap=\"wrap\" alignContent=\"flex-start\">\r\n          {areas.map((area, index) => (\r\n            <Box mr={1} key={index}>\r\n              {`${Object.keys(area)[0]}. ${area[Object.keys(area)[0]]}`}\r\n            </Box>\r\n          ))}\r\n        </Box>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MainAreas\r\n","import React from 'react'\r\nimport { lighten, makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nconst BorderLinearProgress = withStyles({\r\n  root: {\r\n    height: 20,\r\n    width: 100,\r\n    backgroundColor: props => lighten(props.bgcolor, 0.5),\r\n  },\r\n  bar: {\r\n    borderRadius: 20,\r\n    backgroundColor: props => props.bgcolor,\r\n  },\r\n})(LinearProgress)\r\n\r\nexport default function CustomizedProgressBars(props) {\r\n  const classes = useStyles()\r\n  return (\r\n    <React.Fragment>\r\n      <BorderLinearProgress\r\n        className={classes.margin}\r\n        variant=\"determinate\"\r\n        color=\"secondary\"\r\n        value={props.value}\r\n        bgcolor={props.color}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport styled, { css } from 'styled-components'\r\nimport Box from '@material-ui/core/Box'\r\nimport PropTypes from 'prop-types'\r\nimport CustomizedProgressBars from '../../components/BorderLinearProgress'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport { bps } from 'utils/responsive'\r\nimport { getCamp, getPoliticalAffiliation } from 'helpers/candidate'\r\n\r\nconst fontBoldStyle = css`\r\n  font-family: 'PingFangTC-Medium';\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n`\r\n\r\nconst fontNormalStyle = css`\r\n  font-family: 'PingFangTC';\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n`\r\n\r\nconst OvalButton = styled.div`\r\n  width: 95px;\r\n  height: 95px;\r\n  background: url('/static/images/electedIcon.png');\r\n`\r\n\r\nconst Container = styled.div`\r\n   {\r\n    padding: 0px 15px 100px 25px;\r\n  }\r\n`\r\n\r\nconst RowsContainer = styled.div`\r\n   {\r\n    margin-top: 30px;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2);\r\n    background-color: #ffffff;\r\n    ${bps.down('sm')} {\r\n      margin-left: 10px;\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n`\r\n\r\nconst FlexRowContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: flex-start;\r\n    width: 1440px;\r\n    margin: auto;\r\n    cursor: pointer;\r\n    ${bps.down('sm')} {\r\n      width: 1440px;\r\n      margin: auto;\r\n    }\r\n  }\r\n`\r\n\r\nconst FlexColumn = styled(Box)`\r\n  && {\r\n    height: 149px;\r\n    align-items: center;\r\n    display: flex;\r\n    padding-left: 40px;\r\n    ${bps.down('sm')} {\r\n      height: 80px;\r\n    }\r\n  }\r\n`\r\n\r\nconst AvatarColumn = styled(FlexColumn)`\r\n  && {\r\n    width: 100px;\r\n    ${bps.down('sm')} {\r\n      width: 100%;\r\n      height: 149px;\r\n    }\r\n  }\r\n`\r\n\r\nconst NameColumn = styled(FlexColumn)`\r\n  && {\r\n    width: 200px;\r\n    ${bps.down('sm')} {\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst PoliticalColumn = styled(FlexColumn)`\r\n  && {\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    width: 180px;\r\n    ${bps.down('sm')} {\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledDivier = styled(Divider)`\r\n  && {\r\n    margin-left: 30px;\r\n    margin-right: 30px;\r\n    ${bps.down('sm')} {\r\n      margin-top: 30px;\r\n    }\r\n  }\r\n`\r\nconst CandidateListTitle = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 32px;\r\n    font-weight: 600;\r\n    color: #333333;\r\n  }\r\n`\r\n\r\nconst CandidateName = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n    color: #333333;\r\n  }\r\n`\r\n\r\nconst BlueVoteContainer = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    color: #306ece;\r\n  }\r\n`\r\n\r\nconst RedVoteContainer = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    color: #f6416e;\r\n  }\r\n`\r\n\r\nconst ContentHeader = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    color: #4a4a4a;\r\n  }\r\n`\r\n\r\nconst Content = styled.div`\r\n   {\r\n    ${fontNormalStyle}\r\n    font-size: 18px;\r\n    color: #4a4a4a;\r\n  }\r\n`\r\n\r\nclass CandidateList extends Component {\r\n  static propTypes = {\r\n    candidates: PropTypes.array.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    code: PropTypes.string.isRequired,\r\n  }\r\n\r\n  // todo: use ENV_VAR\r\n  homeUrl = 'https://cswbrian.github.io/district-councils-dashboard/'\r\n\r\n  render() {\r\n    const { candidates } = this.props\r\n\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <CandidateListTitle>議員候選人</CandidateListTitle>\r\n        <RowsContainer>\r\n          {candidates\r\n            .sort((a, b) => a.candidate_number - b.candidate_number)\r\n            .map((candidate, index) => (\r\n              <React.Fragment key={index}>\r\n                {index > 0 ? <StyledDivier /> : null}\r\n                <FlexRowContainer\r\n                  style={{ width: '100%' }}\r\n                  key={candidate.candidate_number}\r\n                  onClick={() => {\r\n                    this.props.handleCandidateSelected(candidate.person.id)\r\n                  }}\r\n                >\r\n                  <AvatarColumn>\r\n                    <Avatar\r\n                      src={`${this.homeUrl}/static/images/avatar/${candidate.person.id}.jpg`}\r\n                      imgProps={{\r\n                        onError: e => {\r\n                          e.target.src =\r\n                            this.homeUrl + '/static/images/avatar/default.png'\r\n                        },\r\n                      }}\r\n                      style={{\r\n                        width: '66px',\r\n                        height: '88px',\r\n                        borderRadius: 0,\r\n                      }}\r\n                    ></Avatar>\r\n                  </AvatarColumn>\r\n                  <NameColumn p={1}>\r\n                    <CandidateName>\r\n                      {candidate.candidate_number !== 0 &&\r\n                        `${candidate.candidate_number}. `}\r\n                      {candidate.person.name_zh || candidate.person.name_en}\r\n                    </CandidateName>\r\n                  </NameColumn>\r\n                  <PoliticalColumn>\r\n                    <ContentHeader>陣營</ContentHeader>\r\n                    {'\\n'}\r\n                    <Content>{getCamp(candidate)}</Content>\r\n                  </PoliticalColumn>\r\n                  <PoliticalColumn>\r\n                    <ContentHeader>政治聯繫</ContentHeader>\r\n                    {'\\n'}\r\n                    <Content>{getPoliticalAffiliation(candidate)}</Content>\r\n                  </PoliticalColumn>\r\n                  {candidate.candidate_number !== 0 && (\r\n                    <>\r\n                      <PoliticalColumn>\r\n                        {candidate.is_won && (\r\n                          <BlueVoteContainer>\r\n                            {`${candidate.votes}票 (${candidate.vote_percentage}%)`}\r\n                          </BlueVoteContainer>\r\n                        )}\r\n                        {!candidate.is_won && (\r\n                          <RedVoteContainer>\r\n                            {`${candidate.votes}票 (${candidate.vote_percentage}%)`}\r\n                          </RedVoteContainer>\r\n                        )}\r\n                      </PoliticalColumn>\r\n                      <FlexColumn>\r\n                        <ContentHeader style={{ color: '#9b9b9b' }}>\r\n                          得票率\r\n                        </ContentHeader>\r\n                        <Content>\r\n                          <CustomizedProgressBars\r\n                            value={parseFloat(candidate.vote_percentage)}\r\n                            color={candidate.is_won ? '#306ece' : '#f6416e'}\r\n                          />\r\n                        </Content>\r\n                      </FlexColumn>\r\n                    </>\r\n                  )}\r\n                  <FlexColumn>\r\n                    {candidate.is_won && <OvalButton />}\r\n                    {!candidate.is_won && (\r\n                      <div\r\n                        style={{\r\n                          width: '95px',\r\n                          height: '95px',\r\n                        }}\r\n                      ></div>\r\n                    )}\r\n                  </FlexColumn>\r\n                </FlexRowContainer>\r\n              </React.Fragment>\r\n            ))}\r\n        </RowsContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CandidateList\r\n","export const getPoliticalAffiliation = candidate => {\r\n  let pa = '-'\r\n  try {\r\n    // assume from the graphql we already sort out the only active political_affiliations here\r\n    pa =\r\n      candidate.person.political_affiliations[0].political_affiliation.name_zh\r\n  } catch (err) {}\r\n  return pa\r\n}\r\n\r\nexport const getCamp = candidate => {\r\n  let camp = '-'\r\n  try {\r\n    // assume from the graphql we already sort out the only active political_affiliations here\r\n    camp =\r\n      candidate.person.political_affiliations[0].political_affiliation.camp\r\n        .name_zh\r\n  } catch (err) {}\r\n  return camp\r\n}\r\n","import React, { Component } from 'react'\r\nimport zingchart from 'zingchart'\r\n\r\n// MUST define modulesdir for VoterTurnoutChart\r\n// https://www.zingchart.com/docs/api/modules/standard/#modules__modules_list\r\nzingchart.MODULESDIR = 'https://cdn.zingchart.com/modules/'\r\n\r\nconst chartJSON = chartData => {\r\n  const data = { male: [], female: [] }\r\n\r\n  Object.values(chartData.data).forEach(value => {\r\n    data['male'].push(value['male'])\r\n    data['female'].push(value['female'])\r\n  })\r\n\r\n  // TODO: replace this hacky code\r\n  const titles = Object.keys(chartData.data).map(\r\n    key =>\r\n      key\r\n        .split('_')\r\n        .filter(val => !isNaN(parseInt(val)))\r\n        .join('-') + '歲'\r\n  )\r\n  titles[titles.length - 1] += '及以上'\r\n  // Demo\r\n  // https://codepen.io/pen/?editors=1010\r\n\r\n  return {\r\n    type: 'bar',\r\n    stacked: true,\r\n    'stack-type': 'normal',\r\n    title: {\r\n      text: '投票人士年齡分布',\r\n      x: '40px',\r\n      y: '5px',\r\n      align: 'left',\r\n    },\r\n    subtitle: {\r\n      text: '佔全部',\r\n      x: '175px',\r\n      y: '5px',\r\n      align: 'left',\r\n      bold: false,\r\n      'font-size': '10px',\r\n      'font-color': '#7E7E7E',\r\n      'background-color': 'none',\r\n    },\r\n    plot: {\r\n      'bar-width': '25px',\r\n      'hover-state': {\r\n        visible: false,\r\n      },\r\n      animation: {\r\n        delay: 300,\r\n        sequence: 1,\r\n      },\r\n      valueBox: {\r\n        text: '%total',\r\n        rules: [\r\n          {\r\n            rule: '%stack-top == 0',\r\n            visible: 0,\r\n          },\r\n        ],\r\n        decimals: 0,\r\n      },\r\n    },\r\n    'scale-x': {\r\n      values: titles,\r\n      tick: {\r\n        visible: false,\r\n      },\r\n      guide: {\r\n        visible: false,\r\n      },\r\n      item: {\r\n        'font-color': '#8B8B8B',\r\n      },\r\n    },\r\n    'scale-y': {\r\n      short: true,\r\n      'line-color': '#7E7E7E',\r\n      tick: {\r\n        visible: false,\r\n      },\r\n      guide: {\r\n        'line-style': 'solid',\r\n      },\r\n      item: {\r\n        'font-color': '#8B8B8B',\r\n      },\r\n    },\r\n    series: [\r\n      {\r\n        values: data.male,\r\n        'background-color': '#003f5c',\r\n      },\r\n      {\r\n        values: data.female,\r\n        'background-color': '#ff6361',\r\n      },\r\n    ],\r\n    tooltip: {\r\n      visible: false,\r\n    },\r\n  }\r\n}\r\n\r\nclass VoterTurnoutChart extends Component {\r\n  componentDidMount() {\r\n    zingchart.render({\r\n      id: this.props.id,\r\n      // data: this.props.data,\r\n      data: chartJSON(this.props.data),\r\n    })\r\n  }\r\n\r\n  //Used to check the values being passed in to avoid unnecessary changes.\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    //Lazy object comparison\r\n    return !(JSON.stringify(nextProps.data) === JSON.stringify(this.props.data))\r\n  }\r\n\r\n  componentWillUpdate(nextProps) {\r\n    zingchart.exec(this.props.id, 'setdata', {\r\n      data: chartJSON(nextProps.data), //nextProps.data,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        id={this.props.id}\r\n        style={{\r\n          width: this.props.width || '100%',\r\n          height: this.props.height || '450px',\r\n        }}\r\n      ></div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default VoterTurnoutChart\r\n","import React, { Component } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\n/**\r\n * Idea from https://gist.github.com/XavierGimenez/8070956\r\n */\r\n\r\nclass WaffleChart extends Component {\r\n  drawChart(data) {\r\n    var total = 0\r\n    var width,\r\n      height,\r\n      widthSquares = 20,\r\n      heightSquares = 20,\r\n      squareSize = 20,\r\n      squareValue = 0,\r\n      gap = 1,\r\n      theData = []\r\n    var color = d3.scaleOrdinal(d3.schemeCategory10)\r\n    //total\r\n\r\n    total = d3.sum(data, function(d) {\r\n      return d.population\r\n    })\r\n    //value of a square\r\n    squareValue = total / (widthSquares * heightSquares)\r\n    console.log(squareValue)\r\n    //remap data\r\n    data.forEach(function(d, i) {\r\n      d.population = +d.population\r\n      d.units = Math.round(d.population / squareValue)\r\n      d.percentage = Math.floor((d.population * 100) / total)\r\n      theData = theData.concat(\r\n        Array(d.units + 1)\r\n          .join(1)\r\n          .split('')\r\n          .map(function() {\r\n            return {\r\n              squareValue: squareValue,\r\n              units: d.units,\r\n              population: d.population,\r\n              percentage: d.percentage,\r\n              groupIndex: i,\r\n            }\r\n          })\r\n      )\r\n    })\r\n    width = squareSize * widthSquares + widthSquares * gap + 25\r\n    height = squareSize * heightSquares + heightSquares * gap + 25\r\n    d3.select('#waffle')\r\n      .append('svg')\r\n      .attr('width', width)\r\n      .attr('height', height)\r\n      .append('g')\r\n      .selectAll('div')\r\n      .data(theData)\r\n      .enter()\r\n      .append('rect')\r\n      .attr('width', squareSize)\r\n      .attr('height', squareSize)\r\n      .attr('fill', function(d) {\r\n        return color(d.groupIndex)\r\n      })\r\n      .attr('y', function(d, i) {\r\n        // const row = i % heightSquares;\r\n        // return (heightSquares * squareSize) - ((row * squareSize) + (row * gap))\r\n        const row = Math.floor(i / widthSquares)\r\n        return row * squareSize + row * gap\r\n      })\r\n      .attr('x', function(d, i) {\r\n        //group n squares for column\r\n        // const col = Math.floor(i / heightSquares);\r\n        // return (col * squareSize) + (col * gap);\r\n        const col = i % widthSquares\r\n        return col * squareSize + col * gap\r\n      })\r\n      .append('title')\r\n      .text(function(d, i) {\r\n        return (\r\n          data[d.groupIndex].name +\r\n          ' | ' +\r\n          d.population +\r\n          ' , ' +\r\n          d.percentage +\r\n          '%'\r\n        )\r\n      })\r\n    //add legend with categorical data\r\n    var legend = d3\r\n      .select('#legend')\r\n      .append('svg')\r\n      .attr('width', 300)\r\n      .attr('height', 200)\r\n      .append('g')\r\n      .selectAll('div')\r\n      .data(data)\r\n      .enter()\r\n      .append('g')\r\n      .attr('transform', function(d, i) {\r\n        return 'translate(0,' + i * 20 + ')'\r\n      })\r\n    legend\r\n      .append('rect')\r\n      .attr('width', 18)\r\n      .attr('height', 18)\r\n      .style('fill', function(d, i) {\r\n        return color(i)\r\n      })\r\n    legend\r\n      .append('text')\r\n      .attr('x', 25)\r\n      .attr('y', 13)\r\n      .text(function(d) {\r\n        return d.name\r\n      })\r\n    //add value of a unit square\r\n    var legend2 = d3\r\n      .select('#legend')\r\n      .select('svg')\r\n      .append('g')\r\n      .attr('transform', 'translate(200,0)')\r\n    legend2\r\n      .append('text')\r\n      .attr('y', '14')\r\n      .attr('font-size', '18px')\r\n      .text('Total: ' + total)\r\n      .attr('fill', '#444444')\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.drawChart(this.props.data)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div id=\"waffle\"></div>\r\n\r\n        <div id=\"legend\"></div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WaffleChart\r\n","import React, { Component } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\nimport gql from 'graphql-tag'\r\nimport { Query } from 'react-apollo'\r\nimport VoterTurnoutChart from './VoterTurnoutChart'\r\nimport WaffleChart from '../WaffleChart'\r\n\r\nconst QUERY_FETCH_VOTES = gql`\r\n  query($year: Int!, $code: String!) {\r\n    dc_constituencies(where: { year: { _eq: $year }, code: { _eq: $code } }) {\r\n      candidates_aggregate {\r\n        aggregate {\r\n          sum {\r\n            votes\r\n          }\r\n        }\r\n      }\r\n      candidates {\r\n        votes\r\n        person {\r\n          name_zh\r\n          name_en\r\n        }\r\n      }\r\n      vote_stat {\r\n        total_votes\r\n        total_voters\r\n        total_voted_voters\r\n        population_excluded_foreign_worker\r\n        population_excluded_foreign_worker_lte_age_15\r\n        population_excluded_foreign_worker_lte_age_20\r\n      }\r\n      station_stats {\r\n        station_code\r\n        name_en\r\n        name_zh\r\n        votes {\r\n          votes\r\n          age\r\n          gender\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\nconst Container = styled.div`\r\n   {\r\n    padding: 0px 15px 100px 25px;\r\n  }\r\n`\r\n\r\nconst getDataForWaffleChart = (voteStat, candidates) => {\r\n  const {\r\n    total_votes,\r\n    total_voters,\r\n    total_voted_voters,\r\n    population_excluded_foreign_worker,\r\n    population_excluded_foreign_worker_lte_age_15,\r\n    // population_excluded_foreign_worker_lte_age_20\r\n  } = voteStat\r\n\r\n  // check first the data\r\n  // TODO: the data should be good enough to remove this checking\r\n  if (\r\n    population_excluded_foreign_worker_lte_age_15 < total_voters ||\r\n    total_voters === 0 ||\r\n    total_voted_voters === 0\r\n  ) {\r\n    return []\r\n  }\r\n\r\n  const voteStats = [\r\n    {\r\n      name: '不能投票',\r\n      // population: population_excluded_foreign_worker - population_excluded_foreign_worker_lte_age_15,\r\n      population: population_excluded_foreign_worker - total_voters,\r\n    },\r\n    {\r\n      name: '沒有投票',\r\n      population:\r\n        population_excluded_foreign_worker_lte_age_15 - total_voted_voters,\r\n      // total_votes - total_voted_voters = registered but didn't vote?\r\n    },\r\n    {\r\n      name: '投票失效',\r\n      population: total_voted_voters - total_votes,\r\n      // total_votes - total_voted_voters = registered but didn't vote?\r\n    },\r\n  ]\r\n\r\n  candidates.forEach(({ votes, person: { name_zh, name_en } }) => {\r\n    voteStats.push({\r\n      name: `投給${name_zh || name_en}`,\r\n      population: votes,\r\n      // total_votes - total_voted_voters = registered but didn't vote?\r\n    })\r\n  })\r\n\r\n  return voteStats\r\n}\r\n\r\nclass MainAreas extends Component {\r\n  static propTypes = {\r\n    year: PropTypes.number.isRequired,\r\n    code: PropTypes.string.isRequired,\r\n    district: PropTypes.object.isRequired,\r\n  }\r\n\r\n  render() {\r\n    const { year, code } = this.props\r\n    return (\r\n      <Query\r\n        query={QUERY_FETCH_VOTES}\r\n        variables={{ year: parseInt(year, 10), code }}\r\n      >\r\n        {({ loading, error, data }) => {\r\n          if (loading) return null\r\n          if (error) return `Error! ${error}`\r\n          const { candidates, vote_stat } = data.dc_constituencies[0]\r\n\r\n          let voteStats = []\r\n          if (vote_stat) {\r\n            voteStats = getDataForWaffleChart(vote_stat, candidates)\r\n          }\r\n\r\n          const stats = data.dc_constituencies[0].station_stats\r\n          const barVote = { data: {} }\r\n          barVote.total = stats.reduce((acc, cur) => {\r\n            const sub_total = cur.votes.reduce((acc, cur) => {\r\n              if (typeof barVote.data[cur.age] === 'undefined') {\r\n                barVote.data[cur.age] = {}\r\n              }\r\n              if (typeof barVote.data[cur.age][cur.gender] === 'undefined') {\r\n                barVote.data[cur.age][cur.gender] = 0\r\n              }\r\n              barVote.data[cur.age][cur.gender] += cur.votes\r\n              return acc + cur.votes\r\n            }, 0)\r\n            return acc + sub_total\r\n          }, 0)\r\n          return (\r\n            <Container>\r\n              <Typography variant=\"h4\">人口資料</Typography>\r\n              <VoterTurnoutChart\r\n                id={`${year}_${code}_voter_turnout`}\r\n                data={barVote}\r\n              />\r\n              {voteStats.length > 0 ? (\r\n                <WaffleChart\r\n                  id={`${year}_${code}_voter_treemap`}\r\n                  data={voteStats}\r\n                />\r\n              ) : (\r\n                ''\r\n              )}\r\n            </Container>\r\n          )\r\n        }}\r\n      </Query>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MainAreas\r\n","import React, { Component } from 'react'\r\nimport Box from '@material-ui/core/Box'\r\nimport OLMap from '../../components/OLMap'\r\nimport gql from 'graphql-tag'\r\nimport { Query } from 'react-apollo'\r\nimport DistrictCard from 'components/district/DistrictCard'\r\nimport MainAreas from 'components/district/MainAreas'\r\nimport CandidateList from 'components/district/CandidateList'\r\nimport Metrics from 'components/district/Metrics'\r\nimport styled from 'styled-components'\r\nimport { bps } from 'utils/responsive'\r\n\r\nconst GET_DISTRICTS = gql`\r\n  query($year: Int!, $code: String!, $electionYear: date) {\r\n    dc_constituencies(where: { year: { _eq: $year }, code: { _eq: $code } }) {\r\n      name_zh\r\n      name_en\r\n      code\r\n      deviation_percentage\r\n      expected_population\r\n      main_areas\r\n      candidates {\r\n        candidate_number\r\n        person {\r\n          id\r\n          name_zh\r\n          name_en\r\n          political_affiliations(\r\n            where: {\r\n              year_from: { _lte: $electionYear }\r\n              year_to: { _gte: $electionYear }\r\n            }\r\n          ) {\r\n            year_to\r\n            year_from\r\n            political_affiliation {\r\n              name_zh\r\n              id\r\n              camp {\r\n                name_zh\r\n              }\r\n            }\r\n          }\r\n        }\r\n        vote_percentage\r\n        votes\r\n        is_won\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst FullWidthBox = styled(Box)`\r\n  && {\r\n    padding-top: 4rem;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst LowerBackgroundContainer = styled(Box)`\r\n  && {\r\n    width: 100vw;\r\n    position: relative;\r\n    margin-left: -50vw;\r\n    left: 50%;\r\n    background-color: #fafafa;\r\n  }\r\n`\r\n\r\nconst FlexRowContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: flex-start;\r\n    ${bps.up('md')} {\r\n      width: 100%;\r\n    }\r\n\r\n    ${bps.up('lg')} {\r\n      width: 1440px;\r\n    }\r\n    margin: auto;\r\n  }\r\n`\r\n\r\nconst DistrictCardContainer = styled(Box)`\r\n  && {\r\n    padding-left: 30px;\r\n    margin: 0px;\r\n    width: 400px;\r\n    height: 400px;\r\n\r\n    ${bps.down('md')} {\r\n      margin: 10px;\r\n      width: 100%;\r\n      padding: 0px;\r\n    }\r\n  }\r\n`\r\n\r\nclass DistrictPage extends Component {\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    //  if (this.props.route.path === nextProps.route.path) return false;\r\n    return true\r\n  }\r\n\r\n  handleCandidateSelected = candidateId => {\r\n    this.props.history.push(`/profile/${candidateId}`)\r\n  }\r\n\r\n  handleChangeDistrict = (year, code) => {\r\n    if (!year || !code) return\r\n    this.props.history.push(`/district/${year}/${code}`)\r\n  }\r\n\r\n  onPrevElection() {\r\n    const {\r\n      match: {\r\n        params: { year, code },\r\n      },\r\n    } = this.props\r\n    this.props.history.push(`/district/${parseInt(year, 10) - 4}/${code}`)\r\n  }\r\n\r\n  onNextElection() {\r\n    const {\r\n      match: {\r\n        params: { year, code },\r\n      },\r\n    } = this.props\r\n    this.props.history.push(`/district/${parseInt(year, 10) + 4}/${code}`)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      match: {\r\n        params: { year, code },\r\n      },\r\n    } = this.props\r\n\r\n    // TODO: this should be the election date\r\n    const electionYear = `${year}-01-01`\r\n\r\n    return (\r\n      <>\r\n        <FlexRowContainer>\r\n          <Box\r\n            width={{ sm: '100%', md: '960px' }}\r\n            height={{ sm: '300px', md: '400px' }}\r\n          >\r\n            <OLMap\r\n              year={year}\r\n              code={code}\r\n              changeDistrict={this.handleChangeDistrict}\r\n            />\r\n          </Box>\r\n          <Query query={GET_DISTRICTS} variables={{ year, code, electionYear }}>\r\n            {({ loading, error, data }) => {\r\n              if (loading) return null\r\n              if (error) return `Error! ${error}`\r\n              const district = data.dc_constituencies[0]\r\n              return (\r\n                <>\r\n                  <DistrictCardContainer>\r\n                    <DistrictCard\r\n                      {...district}\r\n                      year={parseInt(year, 10)}\r\n                      code={code}\r\n                      onNextElection={this.onNextElection.bind(this)}\r\n                      onPrevElection={this.onPrevElection.bind(this)}\r\n                    />\r\n                  </DistrictCardContainer>\r\n                  <FullWidthBox>\r\n                    <MainAreas areas={district.main_areas || []} />\r\n                  </FullWidthBox>\r\n                  <LowerBackgroundContainer>\r\n                    <FlexRowContainer>\r\n                      <FullWidthBox>\r\n                        <Metrics\r\n                          year={parseInt(year, 10)}\r\n                          code={code}\r\n                          district={district}\r\n                        ></Metrics>\r\n                      </FullWidthBox>\r\n                      <FullWidthBox>\r\n                        <CandidateList\r\n                          candidates={district.candidates}\r\n                          year={parseInt(year, 10)}\r\n                          code={code}\r\n                          handleCandidateSelected={this.handleCandidateSelected}\r\n                        />\r\n                      </FullWidthBox>\r\n                    </FlexRowContainer>\r\n                  </LowerBackgroundContainer>\r\n                </>\r\n              )\r\n            }}\r\n          </Query>\r\n        </FlexRowContainer>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DistrictPage\r\n","import React, { Component } from 'react'\r\nimport Box from '@material-ui/core/Box'\r\nimport OLMap from '../../components/OLMap'\r\nimport gql from 'graphql-tag'\r\nimport { Query } from 'react-apollo'\r\nimport DistrictCard from 'components/district/DistrictCard'\r\nimport MainAreas from 'components/district/MainAreas'\r\nimport CandidateList from 'components/district/CandidateList'\r\nimport Metrics from 'components/district/Metrics'\r\nimport styled from 'styled-components'\r\nimport { bps } from 'utils/responsive'\r\n\r\nconst GET_DISTRICTS = gql`\r\n  query($year: Int!, $code: String!, $electionYear: date) {\r\n    dc_constituencies(where: { year: { _eq: $year }, code: { _eq: $code } }) {\r\n      name_zh\r\n      name_en\r\n      code\r\n      deviation_percentage\r\n      expected_population\r\n      main_areas\r\n      candidates {\r\n        candidate_number\r\n        person {\r\n          id\r\n          name_zh\r\n          name_en\r\n          political_affiliations(\r\n            where: {\r\n              year_from: { _lte: $electionYear }\r\n              year_to: { _gte: $electionYear }\r\n            }\r\n          ) {\r\n            year_to\r\n            year_from\r\n            political_affiliation {\r\n              name_zh\r\n              id\r\n              camp {\r\n                name_zh\r\n              }\r\n            }\r\n          }\r\n        }\r\n        vote_percentage\r\n        votes\r\n        is_won\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst FullWidthBox = styled(Box)`\r\n  && {\r\n    padding-top: 4rem;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst LowerBackgroundContainer = styled(Box)`\r\n  && {\r\n    width: 100vw;\r\n    position: relative;\r\n    margin-left: -50vw;\r\n    left: 50%;\r\n    background-color: #fafafa;\r\n  }\r\n`\r\n\r\nconst FlexRowContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: flex-start;\r\n    ${bps.up('md')} {\r\n      width: 100%;\r\n    }\r\n\r\n    ${bps.up('lg')} {\r\n      width: 1440px;\r\n    }\r\n    margin: auto;\r\n  }\r\n`\r\n\r\nconst DistrictCardContainer = styled(Box)`\r\n  && {\r\n    padding-left: 30px;\r\n    margin: 0px;\r\n    width: 400px;\r\n    height: 400px;\r\n\r\n    ${bps.down('md')} {\r\n      margin: 10px;\r\n      width: 100%;\r\n      padding: 0px;\r\n    }\r\n  }\r\n`\r\n\r\nclass BattleGroundPage extends Component {\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    //  if (this.props.route.path === nextProps.route.path) return false;\r\n    return true\r\n  }\r\n\r\n  handleCandidateSelected = candidateId => {\r\n    this.props.history.push(`/profile/${candidateId}`)\r\n  }\r\n\r\n  handleChangeDistrict = (year, code) => {\r\n    if (!year || !code) return\r\n    this.props.history.push(`/district/${year}/${code}`)\r\n  }\r\n\r\n  onPrevElection() {\r\n    const {\r\n      match: {\r\n        params: { year = 2019, code },\r\n      },\r\n    } = this.props\r\n    this.props.history.push(`/district/${parseInt(year, 10) - 4}/${code}`)\r\n  }\r\n\r\n  onNextElection() {\r\n    const {\r\n      match: {\r\n        params: { year, code },\r\n      },\r\n    } = this.props\r\n    this.props.history.push(`/district/${parseInt(year, 10) + 4}/${code}`)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      match: {\r\n        params: { year = 2019, code },\r\n      },\r\n    } = this.props\r\n\r\n    // TODO: this should be the election date\r\n    const electionYear = `${year}-01-01`\r\n\r\n    return (\r\n      <>\r\n        <FlexRowContainer>\r\n          <Box\r\n            width={{ sm: '100%', md: '960px' }}\r\n            height={{ sm: '300px', md: '400px' }}\r\n          >\r\n            <OLMap\r\n              year={year}\r\n              code={code}\r\n              changeDistrict={this.handleChangeDistrict}\r\n            />\r\n          </Box>\r\n          <Query query={GET_DISTRICTS} variables={{ year, code, electionYear }}>\r\n            {({ loading, error, data }) => {\r\n              if (loading) return null\r\n              if (error) return `Error! ${error}`\r\n              const district = data.dc_constituencies[0]\r\n              return (\r\n                <>\r\n                  <DistrictCardContainer>\r\n                    <DistrictCard\r\n                      {...district}\r\n                      year={parseInt(year, 10)}\r\n                      code={code}\r\n                      onNextElection={this.onNextElection.bind(this)}\r\n                      onPrevElection={this.onPrevElection.bind(this)}\r\n                    />\r\n                  </DistrictCardContainer>\r\n                  <FullWidthBox>\r\n                    <MainAreas areas={district.main_areas || []} />\r\n                  </FullWidthBox>\r\n                  <LowerBackgroundContainer>\r\n                    <FlexRowContainer>\r\n                      <FullWidthBox>\r\n                        <Metrics\r\n                          year={year}\r\n                          code={code}\r\n                          district={district}\r\n                        ></Metrics>\r\n                      </FullWidthBox>\r\n                      <FullWidthBox>\r\n                        <CandidateList\r\n                          candidates={district.candidates}\r\n                          year={parseInt(year, 10)}\r\n                          code={code}\r\n                          handleCandidateSelected={this.handleCandidateSelected}\r\n                        />\r\n                      </FullWidthBox>\r\n                    </FlexRowContainer>\r\n                  </LowerBackgroundContainer>\r\n                </>\r\n              )\r\n            }}\r\n          </Query>\r\n        </FlexRowContainer>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BattleGroundPage\r\n","import { createMuiTheme } from '@material-ui/core/styles'\r\n\r\nexport const headingFontFamily = 'PingFangTC-Medium, sans-serif'\r\nexport const bodyFontFamily = 'PT Serif, sans-serif'\r\n\r\nexport const fontFamily = [\r\n  'PingFangTC',\r\n  'Noto Sans TC',\r\n  'sans-serif',\r\n  '-apple-system',\r\n  '\"Helvetica Neue\"',\r\n  'Arial',\r\n]\r\n\r\nexport const typography = {\r\n  useNextVariants: true,\r\n  fontSize: 16,\r\n  fontFamily: fontFamily.join(','),\r\n  h1: {\r\n    fontFamily: headingFontFamily,\r\n  },\r\n  h2: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 50,\r\n    fontWeight: 500,\r\n  },\r\n  h3: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 40,\r\n    fontWeight: 500,\r\n  },\r\n  h4: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 30,\r\n    fontWeight: 500,\r\n  },\r\n  h5: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n  },\r\n  h6: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 18,\r\n    fontWeight: 500,\r\n  },\r\n  body1: {\r\n    fontFamily: bodyFontFamily,\r\n  },\r\n}\r\n\r\nexport default createMuiTheme({\r\n  typography,\r\n  palette: {\r\n    primary: {\r\n      light: '#ffffff',\r\n      main: '#000000',\r\n      dark: '#cccccc',\r\n    },\r\n    secondary: {\r\n      light: '#2c2c2c',\r\n      main: '#000000',\r\n      dark: '#000000',\r\n    },\r\n    background: {\r\n      default: '#ffffff',\r\n    },\r\n    button: {\r\n      primary: '#ffd731',\r\n      secondary: '#ffd731',\r\n    },\r\n  },\r\n})\r\n","import React, { Component } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport createMuiTheme from '../../ui/theme'\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\r\n\r\nconst theme = createMuiTheme\r\n\r\nconst styles = theme => ({\r\n  content: {},\r\n})\r\n\r\nclass NotFoundPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <MuiThemeProvider theme={theme}>\r\n        TODO - <a href=\"https://notfound.collaction.hk/\">404</a>\r\n      </MuiThemeProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(NotFoundPage)\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\r\nimport NavBar from './components/NavBar'\r\nimport SearchPage from './pages/search'\r\nimport ProfilePage from './pages/profile'\r\nimport DistrictPage from './pages/district'\r\nimport BattleGroundPage from './pages/battleground'\r\nimport NotfoundPage from './pages/notfound'\r\nimport ApolloClient from 'apollo-boost'\r\nimport { ApolloProvider } from 'react-apollo'\r\nimport theme from 'ui/theme'\r\nimport './App.css'\r\n\r\nconst client = new ApolloClient({\r\n  uri: 'https://gql.opencultures.life/graphql',\r\n})\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  // Load app bar information from the theme\r\n  // https://stackoverflow.com/questions/48508449/content-beneath-fixed-appbar\r\n  toolbar: theme.mixins.toolbar,\r\n})\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <ApolloProvider client={client}>\r\n        <MuiThemeProvider theme={theme}>\r\n          <CssBaseline />\r\n          <NavBar />\r\n          <main>\r\n            <Switch>\r\n              <Route exact path=\"/\" component={SearchPage} />\r\n              <Route path=\"/profile/:id\" component={ProfilePage} />\r\n              <Route path=\"/district/2019/:code\" component={BattleGroundPage} />\r\n              <Route path=\"/district/:year/:code\" component={DistrictPage} />\r\n              <Route component={NotfoundPage} />\r\n            </Switch>\r\n          </main>\r\n        </MuiThemeProvider>\r\n      </ApolloProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(App)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}