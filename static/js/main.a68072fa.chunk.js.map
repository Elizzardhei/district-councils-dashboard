{"version":3,"sources":["../node_modules/encoding/lib sync","layout/NavBar.js","components/PeopleSearcher.js","utils/features.js","components/AddressSearcher.js","components/search/DistrictSelector.js","pages/search/index.js","utils/responsive.js","pages/profile/index.js","components/OLMap.js","components/district/DistrictCard.js","components/district/MainAreas.js","components/BorderLinearProgress.js","components/district/CandidateList.js","helpers/candidate.js","pages/district/index.js","ui/theme/index.js","pages/notfound/index.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","NavBar","classes","this","props","react_default","a","createElement","Container","maxWidth","AppBar","position","className","headerParent","Toolbar","disableGutters","header","Typography","variant","color","title","Button","component","NavLink","to","Component","withStyles","theme","boxShadow","backgroundColor","palette","primary","light","main","flexGrow","withTheme","GET_PEOPLE","gql","_templateObject","renderInputComponent","inputProps","_inputProps$inputRef","inputRef","ref","other","Object","objectWithoutProperties","TextField","assign","fullWidth","InputProps","node","input","renderSuggestion","suggestion","_ref","query","isHighlighted","avatar","suggestionNameStyle","marginLeft","lineHeight","selectedSuggestionNameStyle","objectSpread","fontWeight","MenuItem","selected","style","backgroundImage","concat","display","alignItems","backgroundRepeat","backgroundSize","name_zh","name_en","getSuggestionValue","PeopleSearcher","state","single","popper","suggestions","handleSuggestionsClearRequested","_this","setState","handleChange","name","event","_ref2","newValue","defineProperty","handleSuggestionSelected","_ref3","suggestionValue","suggestionIndex","sectionIndex","method","handlePeopleSelected","onSuggestionsFetchRequested","_callee","_ref4","value","_ref6","data","regenerator_default","wrap","_context","prev","next","reason","client","variables","nameRegex","sent","dc_people","stop","deburr","trim","toLowerCase","length","filter","includes","_this2","autosuggestProps","onSuggestionsClearRequested","onSuggestionSelected","class","dist_default","label","placeholder","onChange","popperNode","InputLabelProps","shrink","suggestionsList","renderSuggestionsContainer","options","Popper","anchorEl","open","Boolean","children","Paper","square","containerProps","width","clientWidth","React","withApollo","root","height","container","suggestionsContainerOpen","zIndex","marginTop","spacing","unit","margin","padding","listStyleType","getAllFeaturesFromPoint","point","featuresArray","arguments","undefined","dc2003","dc2007","dc2011","dc2015","dc2019","pt","turf","lng","lat","map","feature","polygonProps","i","n","features","poly","geometry","coordinates","properties","year","split","matches","match","parts","parse","part","index","highlight","key","String","text","IntegrationAutosuggest","handleSuggestionsFetchRequested","getSuggestions","then","result","handleAddressSelected","coordinate","inputValue","AddressParser","records","_","record","fullAddress","LANG_ZH","styled","div","DistrictSelector_templateObject","SideBar","Box","_templateObject2","MainContent","_templateObject3","SideBarItem","_templateObject4","DistrictContainer","_templateObject5","DistrictSelector","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","renderDCCA","district","dcca","selectedDistrict","DistrictSelector_Container","area","dccode","onClick","dname_chi","search_templateObject","SearchPage","expanded","history","push","lastest","pop","CACODE","autoCompleteList","evt","target","panel","newExpanded","console","log","search_Container","ExpansionPanel","bind","ExpansionPanelSummary","ExpansionPanelDetails","AddressSearcher","components_PeopleSearcher","search_DistrictSelector","bps","createBreakpoints","createMuiTheme","GET_PEOPLE_PROFILE","profile_templateObject","commonFontStyle","css","profile_templateObject2","CandidateName","profile_templateObject3","up","DistrictName","profile_templateObject4","FlexRowContainer","profile_templateObject5","CandidateAvatar","Avatar","_templateObject6","BasicInfoHeader","_templateObject7","ElectionHistoryContainer","_templateObject8","ElectionHistoryHeader","_templateObject9","YearDiv","_templateObject10","ElectionHistoryPaper","_templateObject11","ElectionHistoryContentGrid","Grid","_templateObject12","ElectionHistoryContentSpan","_templateObject13","ElectionHistoryContentHeaderSpan","_templateObject14","ElectionDetailButton","_templateObject15","BasicInfoGridContainer","_templateObject16","BasicInfoGridHeader","_templateObject17","BasicInfoGridContent","_templateObject18","ProfilePage","handleElectionDetailButton","election","yob","item","xs","md","constituency","cacode","camp","vote_percentage","is_won","_this3","params","react_apollo_esm","loading","error","person","Fragment","sm","src","gender","estimated_yob","moment","elections","occupation","sort","b","renderElectionInfoCard","MapContainer","OLMap_templateObject","OLMap","handleMapClick","_this$props","changeDistrict","selectedFeature","getFeatures","getArray","get","getView","fit","getGeometry","getExtent","duration","featuresLayer","_this$props2","dc","find","d","isDCDataExist","featureSource","VectorSource","GeoJSON","readFeatures","VectorLayer","source","getProperties","Style","fill","Fill","stroke","Stroke","layers","TileLayer","XYZ","url","Map","refs","mapContainer","view","View","projection","center","zoom","extent","size","getSize","select","Select","addInteraction","on","DistrictCard_templateObject","down","InnerContainer","DistrictCard_templateObject2","YearText","DistrictCard_templateObject3","RegionText","DistrictCard_templateObject4","CodeText","DistrictCard_templateObject5","StyledDivier","Divider","DistrictCard_templateObject6","SeperatedRow","DistrictCard_templateObject7","DistrictCard","IconButton","aria-label","onPrevElection","ArrowBack_default","Date","getFullYear","onNextElection","ArrowForward_default","councillor","candidates","politicalAffiliation","electedCandidate","candidate","political_affiliations","political_affiliation","getCouncillor","DistrictCard_Container","border","renderPrevElectionButton","gutterBottom","renderNextElectionButton","MainAreas_templateObject","MainAreas","areas","MainAreas_Container","flexWrap","alignContent","mr","useStyles","makeStyles","BorderLinearProgress","lighten","bgColor","bar","borderRadius","LinearProgress","CustomizedProgressBars","fontBoldStyle","CandidateList_templateObject","fontNormalStyle","CandidateList_templateObject2","OvalButton","CandidateList_templateObject3","CandidateList_templateObject4","RowsContainer","CandidateList_templateObject5","CandidateList_templateObject6","FlexColumn","CandidateList_templateObject7","AvatarColumn","CandidateList_templateObject8","NameColumn","CandidateList_templateObject9","PoliticalColumn","CandidateList_templateObject10","CandidateList_templateObject11","CandidateListTitle","CandidateList_templateObject12","CandidateList_templateObject13","BlueVoteContainer","CandidateList_templateObject14","RedVoteContainer","CandidateList_templateObject15","ContentHeader","CandidateList_templateObject16","Content","CandidateList_templateObject17","CandidateList","homeUrl","CandidateList_Container","candidate_number","CandidateList_StyledDivier","CandidateList_FlexRowContainer","handleCandidateSelected","imgProps","onError","p","CandidateList_CandidateName","err","getCamp","pa","getPoliticalAffiliation","votes","parseFloat","GET_DISTRICTS","district_templateObject","FullWidthBox","district_templateObject2","LowerBackgroundContainer","district_templateObject3","district_templateObject4","DistrictCardContainer","district_templateObject5","DistrictPage","candidateId","handleChangeDistrict","nextProps","nextState","_this$props$match$par","parseInt","_this$props$match$par2","_this$props$match$par3","electionYear","district_FlexRowContainer","components_OLMap","dc_constituencies","district_DistrictCard","district_MainAreas","main_areas","bold","expected_population","district_CandidateList","typography","useNextVariants","fontSize","fontFamily","join","h1","h2","h3","h4","h5","h6","body1","dark","secondary","background","default","NotFoundPage","MuiThemeProvider_default","href","content","ApolloClient","uri","App","CssBaseline","layout_NavBar","react_router","exact","path","NotfoundPage","toolbar","mixins","ReactDOM","render","react_router_dom","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.a68072fa.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 349;","import React, { Component } from 'react'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Container from '@material-ui/core/Container'\r\nimport { relative } from 'path'\r\n\r\nconst styles = theme => ({\r\n  headerParent: {\r\n    boxShadow: 'none',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.light,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n})\r\n\r\nclass NavBar extends Component {\r\n  render() {\r\n    const { classes } = this.props\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <AppBar position=\"relative\" className={classes.headerParent}>\r\n          <Toolbar disableGutters className={classes.header}>\r\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.title}>\r\n              Vote for Hong Kong\r\n            </Typography>\r\n            <Button component={NavLink} to=\"/\">\r\n              Search\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(NavBar)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport deburr from 'lodash/deburr'\r\nimport Autosuggest from 'react-autosuggest'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Popper from '@material-ui/core/Popper'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { withApollo } from 'react-apollo'\r\nimport gql from 'graphql-tag'\r\n\r\nconst GET_PEOPLE = gql`\r\n  query($nameRegex: String) {\r\n    dc_people(\r\n      where: {\r\n        _or: [\r\n          { name_zh: { _like: $nameRegex } }\r\n          { name_en: { _like: $nameRegex } }\r\n        ]\r\n      }\r\n      limit: 50\r\n    ) {\r\n      id\r\n      name_zh\r\n      name_en\r\n    }\r\n  }\r\n`\r\n\r\nfunction renderInputComponent(inputProps) {\r\n  const { classes, inputRef = () => {}, ref, ...other } = inputProps\r\n\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputRef: node => {\r\n          ref(node)\r\n          inputRef(node)\r\n        },\r\n        classes: {\r\n          input: classes.input,\r\n        },\r\n      }}\r\n      {...other}\r\n    />\r\n  )\r\n}\r\n\r\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\r\n  // TODO: update default avatar\r\n  // TODO: enrich avatar field\r\n  const avatar = suggestion.avatar\r\n    ? suggestion.avatar\r\n    : 'http://www.carderator.com/assets/avatar_placeholder_small.png'\r\n\r\n  // keyword this is not accessible here. so define the style here\r\n  const suggestionNameStyle = {\r\n    marginLeft: '68px',\r\n    lineHeight: '45px',\r\n  }\r\n  const boldStyle = {\r\n    fontWeight: '800',\r\n  }\r\n  const selectedSuggestionNameStyle = {\r\n    ...suggestionNameStyle,\r\n    ...boldStyle,\r\n  }\r\n\r\n  return (\r\n    <MenuItem selected={isHighlighted} component=\"div\">\r\n      <div\r\n        style={{\r\n          backgroundImage: `url(${avatar})`,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          backgroundRepeat: 'no-repeat',\r\n          backgroundSize: '48px 48px',\r\n        }}\r\n      >\r\n        <span\r\n          style={\r\n            isHighlighted ? suggestionNameStyle : selectedSuggestionNameStyle\r\n          }\r\n        >\r\n          {suggestion.name_zh ? suggestion.name_zh : suggestion.name_en}\r\n        </span>\r\n      </div>\r\n    </MenuItem>\r\n  )\r\n}\r\n\r\nfunction getSuggestionValue(suggestion) {\r\n  return suggestion.name_zh ? suggestion.name_zh : suggestion.name_en\r\n}\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    height: 250,\r\n    flexGrow: 1,\r\n  },\r\n  container: {\r\n    position: 'relative',\r\n  },\r\n  suggestionsContainerOpen: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    // left: 0,\r\n    // right: 0,\r\n  },\r\n  suggestion: {\r\n    display: 'block',\r\n  },\r\n  suggestionsList: {\r\n    margin: 0,\r\n    padding: 0,\r\n    listStyleType: 'none',\r\n  },\r\n})\r\n\r\nclass PeopleSearcher extends React.Component {\r\n  state = {\r\n    single: '',\r\n    popper: '',\r\n    suggestions: [],\r\n  }\r\n\r\n  getSuggestions(value) {\r\n    const inputValue = deburr(value.trim()).toLowerCase()\r\n    const inputLength = inputValue.length\r\n\r\n    return inputLength === 0\r\n      ? []\r\n      : this.state.suggestions.filter(\r\n          suggestion => suggestion.name && suggestion.name.includes(value)\r\n        )\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { data } = await this.props.client.query({\r\n      query: GET_PEOPLE,\r\n      variables: {\r\n        nameRegex: '%',\r\n      },\r\n    })\r\n    this.setState({ suggestions: data.dc_people })\r\n  }\r\n\r\n  handleSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: [],\r\n    })\r\n  }\r\n\r\n  handleChange = name => (event, { newValue }) => {\r\n    this.setState({\r\n      [name]: newValue,\r\n    })\r\n  }\r\n\r\n  handleSuggestionSelected = (\r\n    event,\r\n    { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }\r\n  ) => {\r\n    this.props.handlePeopleSelected(suggestion)\r\n  }\r\n\r\n  // Autosuggest will call this function every time you need to update suggestions.\r\n  // You already implemented this logic above, so just use it.\r\n  onSuggestionsFetchRequested = async ({ value, reason }) => {\r\n    if (true) {\r\n      const { data } = await this.props.client.query({\r\n        query: GET_PEOPLE,\r\n        variables: {\r\n          nameRegex: `%${value}%`,\r\n        },\r\n      })\r\n      this.setState({ suggestions: data.dc_people })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n\r\n    const autosuggestProps = {\r\n      renderInputComponent,\r\n      suggestions: this.state.suggestions,\r\n      onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\r\n      onSuggestionsClearRequested: this.handleSuggestionsClearRequested,\r\n      onSuggestionSelected: this.handleSuggestionSelected,\r\n      getSuggestionValue,\r\n      renderSuggestion,\r\n    }\r\n\r\n    return (\r\n      <div className={this.props.class}>\r\n        <Autosuggest\r\n          {...autosuggestProps}\r\n          inputProps={{\r\n            classes,\r\n            label: '揾人',\r\n            placeholder: 'Please type a candidate name',\r\n            value: this.state.popper,\r\n            onChange: this.handleChange('popper'),\r\n            inputRef: node => {\r\n              this.popperNode = node\r\n            },\r\n            InputLabelProps: {\r\n              shrink: true,\r\n            },\r\n          }}\r\n          theme={{\r\n            suggestionsList: classes.suggestionsList,\r\n            suggestion: classes.suggestion,\r\n          }}\r\n          renderSuggestionsContainer={options => (\r\n            <Popper anchorEl={this.popperNode} open={Boolean(options.children)}>\r\n              <Paper\r\n                square\r\n                {...options.containerProps}\r\n                style={{\r\n                  width: this.popperNode ? this.popperNode.clientWidth : null,\r\n                }}\r\n              >\r\n                {options.children}\r\n              </Paper>\r\n            </Popper>\r\n          )}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPeopleSearcher.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withApollo(withStyles(styles)(PeopleSearcher))\r\n","import * as turf from '@turf/turf'\r\n\r\nimport dc2003 from '../data/DCCA_2003'\r\nimport dc2007 from '../data/DCCA_2007'\r\nimport dc2011 from '../data/DCCA_2011'\r\nimport dc2015 from '../data/DCCA_2015'\r\nimport dc2019 from '../data/DCCA_2019'\r\n\r\nexport const getAllFeaturesFromPoint = (\r\n  point,\r\n  featuresArray = [dc2003, dc2007, dc2011, dc2015, dc2019]\r\n) => {\r\n  const pt = turf.point([point.lng, point.lat])\r\n  const result = featuresArray.map(feature => {\r\n    let polygonProps = {}\r\n    for (let i = 0, n = feature.features.length; i < n; i++) {\r\n      const poly = turf.multiPolygon(feature.features[i].geometry.coordinates)\r\n      if (turf.booleanPointInPolygon(pt, poly)) {\r\n        polygonProps = { ...feature.features[i].properties }\r\n        break\r\n      }\r\n    }\r\n    return {\r\n      year: feature.name.split('_')[1],\r\n      ...polygonProps,\r\n    }\r\n  })\r\n  return result\r\n}\r\n","import React from 'react'\r\nimport PropTypes, { instanceOf } from 'prop-types'\r\nimport deburr from 'lodash/deburr'\r\nimport Autosuggest from 'react-autosuggest'\r\nimport match from 'autosuggest-highlight/match'\r\nimport parse from 'autosuggest-highlight/parse'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Popper from '@material-ui/core/Popper'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport * as AddressParser from 'hk-address-parser-lib'\r\nimport { getAllFeaturesFromPoint } from '../utils/features'\r\n\r\nfunction renderInputComponent(inputProps) {\r\n  const { classes, inputRef = () => {}, ref, ...other } = inputProps\r\n\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputRef: node => {\r\n          ref(node)\r\n          inputRef(node)\r\n        },\r\n        classes: {\r\n          input: classes.input,\r\n        },\r\n      }}\r\n      {...other}\r\n    />\r\n  )\r\n}\r\n\r\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\r\n  const matches = match(suggestion.label, query)\r\n  const parts = parse(suggestion.label, matches)\r\n\r\n  return (\r\n    <MenuItem selected={isHighlighted} component=\"div\">\r\n      <div>\r\n        {parts.map((part, index) =>\r\n          part.highlight ? (\r\n            <span key={String(index)} style={{ fontWeight: 500 }}>\r\n              {part.text}\r\n            </span>\r\n          ) : (\r\n            <strong key={String(index)} style={{ fontWeight: 300 }}>\r\n              {part.text}\r\n            </strong>\r\n          )\r\n        )}\r\n      </div>\r\n    </MenuItem>\r\n  )\r\n}\r\n\r\nfunction getSuggestionValue(suggestion) {\r\n  return suggestion.label\r\n}\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    height: 250,\r\n    flexGrow: 1,\r\n  },\r\n  container: {\r\n    position: 'relative',\r\n  },\r\n  suggestionsContainerOpen: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    // left: 0,\r\n    // right: 0,\r\n  },\r\n  suggestion: {\r\n    display: 'block',\r\n  },\r\n  suggestionsList: {\r\n    margin: 0,\r\n    padding: 0,\r\n    listStyleType: 'none',\r\n  },\r\n})\r\n\r\nclass IntegrationAutosuggest extends React.Component {\r\n  state = {\r\n    value: '',\r\n    suggestions: [],\r\n  }\r\n\r\n  async getSuggestions(value) {\r\n    const inputValue = value.trim().toLowerCase()\r\n    const inputLength = inputValue.length\r\n\r\n    if (inputLength > 0) {\r\n      const records = await AddressParser.parse(inputValue)\r\n      const result = records\r\n        .filter((_, index) => index < 10)\r\n        .map(record => ({\r\n          coordinate: record.coordinate(),\r\n          label: record.fullAddress(AddressParser.Address.LANG_ZH),\r\n        }))\r\n\r\n      return result\r\n    }\r\n\r\n    return []\r\n  }\r\n\r\n  handleSuggestionsFetchRequested = ({ value }) => {\r\n    this.getSuggestions(value).then(result => {\r\n      this.setState({\r\n        suggestions: result,\r\n      })\r\n    })\r\n  }\r\n\r\n  handleSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: [],\r\n    })\r\n  }\r\n\r\n  handleChange = name => (event, { newValue }) => {\r\n    this.setState({\r\n      [name]: newValue,\r\n    })\r\n  }\r\n\r\n  handleSuggestionSelected = (\r\n    event,\r\n    { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }\r\n  ) => {\r\n    this.props.handleAddressSelected(\r\n      getAllFeaturesFromPoint(suggestion.coordinate)\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n\r\n    const autosuggestProps = {\r\n      renderInputComponent,\r\n      suggestions: this.state.suggestions,\r\n      onSuggestionsFetchRequested: this.handleSuggestionsFetchRequested,\r\n      onSuggestionsClearRequested: this.handleSuggestionsClearRequested,\r\n      onSuggestionSelected: this.handleSuggestionSelected,\r\n      getSuggestionValue,\r\n      renderSuggestion,\r\n    }\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Autosuggest\r\n          {...autosuggestProps}\r\n          inputProps={{\r\n            classes,\r\n            label: '你住邊',\r\n            placeholder: 'Please type an address',\r\n            value: this.state.value,\r\n            onChange: this.handleChange('value'),\r\n            inputRef: node => {\r\n              this.popperNode = node\r\n            },\r\n            InputLabelProps: {\r\n              shrink: true,\r\n            },\r\n          }}\r\n          theme={{\r\n            suggestionsList: classes.suggestionsList,\r\n            suggestion: classes.suggestion,\r\n          }}\r\n          renderSuggestionsContainer={options => (\r\n            <Popper anchorEl={this.popperNode} open={Boolean(options.children)}>\r\n              <Paper\r\n                square\r\n                {...options.containerProps}\r\n                style={{\r\n                  width: this.popperNode ? this.popperNode.clientWidth : null,\r\n                }}\r\n              >\r\n                {options.children}\r\n              </Paper>\r\n            </Popper>\r\n          )}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nIntegrationAutosuggest.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(IntegrationAutosuggest)\r\n","import React, { Component } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport styled from 'styled-components'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Box from '@material-ui/core/Box'\r\nimport area from '../../data/area'\r\nimport district from '../../data/district'\r\nimport Button from '@material-ui/core/Button'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Container = styled.div`\r\n   {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n`\r\n\r\nconst SideBar = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    min-width: 200px;\r\n    max-width: 200px;\r\n  }\r\n`\r\n\r\nconst MainContent = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    align-items: baseline;\r\n    padding-left: 32px;\r\n    padding-right: 32px;\r\n    flex-grow: 1;\r\n  }\r\n`\r\n\r\nconst SideBarItem = styled(Button)`\r\n  && {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst DistrictContainer = styled(Button)`\r\n  && {\r\n    width: 120px;\r\n    justify-content: left;\r\n  }\r\n`\r\n\r\nclass DistrictSelector extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      selectedDistrict: null,\r\n    }\r\n  }\r\n  renderDCCA = code => {\r\n    if (!code) return null\r\n    return (\r\n      <div>\r\n        {Object.keys(district['2019'][code]).map(dcca => {\r\n          return (\r\n            <DistrictContainer\r\n              component={NavLink}\r\n              to={`/district/2019/${dcca}`}\r\n              key={district['2019'][code][dcca].code}\r\n              color=\"secondary\"\r\n            >\r\n              <Typography variant=\"h6\">\r\n                {district['2019'][code][dcca].name}\r\n              </Typography>\r\n            </DistrictContainer>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <SideBar>\r\n          {area.map(a => (\r\n            <SideBarItem\r\n              key={a.dccode}\r\n              color=\"primary\"\r\n              onClick={() => this.setState({ selectedDistrict: a.dccode })}\r\n            >\r\n              {a.dname_chi}\r\n            </SideBarItem>\r\n          ))}\r\n        </SideBar>\r\n        <MainContent>\r\n          <Typography variant=\"subtitle1\">\r\n            {this.renderDCCA(this.state.selectedDistrict)}\r\n          </Typography>\r\n        </MainContent>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DistrictSelector\r\n","import React, { Component } from 'react'\r\n\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Input from '@material-ui/core/Input'\r\nimport PeopleSearcher from '../../components/PeopleSearcher'\r\nimport AddressSearcher from '../../components/AddressSearcher'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\n\r\nimport styled from 'styled-components'\r\nimport DistrictSelector from 'components/search/DistrictSelector'\r\n\r\nimport * as AddressParser from 'hk-address-parser-lib'\r\n\r\nconst styles = theme => ({})\r\n\r\nconst Container = styled.div`\r\n  width: 800px;\r\n  margin: auto;\r\n`\r\n\r\nclass SearchPage extends Component {\r\n  expanded = false\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      autoCompleteList: [],\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {}\r\n\r\n  async onAddressFieldChanged(evt) {\r\n    const { value } = evt.target\r\n    const records = await AddressParser.parse(value)\r\n    this.setState({\r\n      autoCompleteList: records,\r\n    })\r\n  }\r\n\r\n  handlePeopleSelected = result => {\r\n    this.props.history.push(`profile/${result.id}`)\r\n  }\r\n\r\n  handleAddressSelected = result => {\r\n    if (!result) return\r\n\r\n    const lastest = result.pop()\r\n\r\n    /* TODO: \r\n      Use context (?) to store the Global district result array\r\n      When user select click previous button in district page, \r\n      the CACODE should follow follow the above result\r\n    */\r\n\r\n    this.props.history.push(`district/${lastest.year}/${lastest.CACODE}`)\r\n  }\r\n\r\n  handleChange(panel) {\r\n    return (event, newExpanded) => {\r\n      console.log(this.state)\r\n      this.setState({\r\n        expanded: newExpanded ? panel : false,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { expanded } = this.state\r\n\r\n    return (\r\n      <Container>\r\n        <ExpansionPanel\r\n          square\r\n          expanded={expanded === 'panel1'}\r\n          onChange={this.handleChange('panel1').bind(this)}\r\n        >\r\n          <ExpansionPanelSummary>\r\n            <Typography>Search Address</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <AddressSearcher\r\n              handleAddressSelected={this.handleAddressSelected}\r\n            />\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n\r\n        <ExpansionPanel\r\n          square\r\n          expanded={expanded === 'panel2'}\r\n          onChange={this.handleChange('panel2').bind(this)}\r\n        >\r\n          <ExpansionPanelSummary>\r\n            <Typography>Search People</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <Paper>\r\n              <PeopleSearcher\r\n                handlePeopleSelected={this.handlePeopleSelected}\r\n              />\r\n            </Paper>\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n\r\n        <ExpansionPanel\r\n          square\r\n          expanded={expanded === 'panel3'}\r\n          onChange={this.handleChange('panel3').bind(this)}\r\n        >\r\n          <ExpansionPanelSummary>\r\n            <Typography> Region</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <DistrictSelector />\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(SearchPage)\r\n","import createBreakpoints from '@material-ui/core/styles/createBreakpoints'\r\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme'\r\n\r\nexport const bps = createBreakpoints({})\r\n\r\nexport const headingFontFamily = 'Source Serif Pro, sans-serif'\r\nexport const bodyFontFamily = 'PT Serif, sans-serif'\r\n\r\nexport const fontFamily = ['PingFangTC-Semibold', 'PingFangTC-Medium']\r\n\r\nexport const typography = {}\r\n\r\nexport const theme = createMuiTheme()\r\n","import React, { Component } from 'react'\r\nimport Box from '@material-ui/core/Box'\r\nimport styled, { css } from 'styled-components'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport moment from 'moment'\r\nimport gql from 'graphql-tag'\r\nimport { Query } from 'react-apollo'\r\nimport { bps } from 'utils/responsive'\r\n\r\n// TODO: add age, camp & political_affiliation\r\nconst GET_PEOPLE_PROFILE = gql`\r\n  query($id: uuid!) {\r\n    dc_people(\r\n      where: { id: { _eq: $id } }\r\n      order_by: { elections_aggregate: { max: { year: asc } } }\r\n    ) {\r\n      name_en\r\n      name_zh\r\n      estimated_yob\r\n      gender\r\n      elections {\r\n        occupation\r\n        cacode\r\n        year\r\n        votes\r\n        vote_percentage\r\n        is_won\r\n        constituency {\r\n          name_zh\r\n          expected_population\r\n          deviation_percentage\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst commonFontStyle = css`\r\n  font-family: 'PingFangTC-Light';\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n`\r\n\r\nconst CandidateName = styled.div`\r\n   {\r\n    ${commonFontStyle}\r\n    margin: 20px;\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    color: #ffffff;\r\n    ${bps.up('sm')} {\r\n      margin: 0px;\r\n      margin-top: 50px;\r\n      font-size: 30px;\r\n    }\r\n\r\n    ${bps.up('md')} {\r\n      margin-top: 50px;\r\n      font-size: 48px;\r\n    }\r\n  }\r\n`\r\n\r\nconst DistrictName = styled.div`\r\n   {\r\n    ${commonFontStyle}\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #ffffff;\r\n    ${bps.up('sm')} {\r\n      font-size: 20px;\r\n    }\r\n\r\n    ${bps.up('md')} {\r\n      font-size: 36px;\r\n    }\r\n  }\r\n`\r\n\r\nconst FlexRowContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: flex-start;\r\n    opacity: 0.95;\r\n    background-color: #f6416e;\r\n    ${bps.up('md')} {\r\n      width: 100%;\r\n    }\r\n\r\n    ${bps.up('lg')} {\r\n      width: 1440px;\r\n    }\r\n    margin: auto;\r\n  }\r\n`\r\n\r\nconst CandidateAvatar = styled(Avatar)`\r\n  && {\r\n    width: 153px;\r\n    height: 180px;\r\n    border-radius: 0;\r\n\r\n    ${bps.up('sm')} {\r\n      margin-top: 40px;\r\n      margin-left: 60px;\r\n    }\r\n\r\n    ${bps.up('md')} {\r\n      margin-left: 120px;\r\n    }\r\n  }\r\n`\r\n\r\nconst BasicInfoHeader = styled.div`\r\n  && {\r\n    ${commonFontStyle}\r\n    font-size: 32px;\r\n    font-weight: 600;\r\n    width: 100%;\r\n\r\n    ${bps.up('md')} {\r\n      margin-left: 65px;\r\n    }\r\n  }\r\n`\r\nconst ElectionHistoryContainer = styled(FlexRowContainer)`\r\n  && {\r\n    padding: 20px;\r\n    background-color: #fafafa;\r\n    ${bps.up('sm')} {\r\n      padding-left: 40px;\r\n    }\r\n\r\n    ${bps.up('md')} {\r\n      padding-left: 120px;\r\n      height: 100%;\r\n    }\r\n  }\r\n`\r\nconst ElectionHistoryHeader = styled.div`\r\n  && {\r\n    ${commonFontStyle}\r\n    font-size: 32px;\r\n    font-weight: 600;\r\n    color: #333333;\r\n    margin-top: 4px;\r\n  }\r\n`\r\n\r\nconst YearDiv = styled.div`\r\n  && {\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    color: #9b9b9b;\r\n    margin-bottom: 20px;\r\n  }\r\n`\r\n\r\nconst ElectionHistoryPaper = styled(Paper)`\r\n  && {\r\n    padding: 20px;\r\n  }\r\n`\r\n\r\nconst ElectionHistoryContentGrid = styled(Grid)`\r\n  && {\r\n    padding: 15px;\r\n  }\r\n`\r\n\r\nconst ElectionHistoryContentSpan = styled(Grid)`\r\n  && {\r\n    ${commonFontStyle}\r\n    font-size: 18px;\r\n    color: #4a4a4a;\r\n  }\r\n`\r\n\r\nconst ElectionHistoryContentHeaderSpan = styled(ElectionHistoryContentSpan)`\r\n  && {\r\n    font-weight: 500;\r\n  }\r\n`\r\nconst ElectionDetailButton = styled.div`\r\n  && {\r\n    ${commonFontStyle}\r\n    padding: 15px;\r\n    font-weight: 600;\r\n    color: #ffb700;\r\n    width: 100%;\r\n    text-align: center;\r\n    border-radius: 4px;\r\n    border: 2px solid #ffb700;\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst BasicInfoGridContainer = styled(Grid)`\r\n  && {\r\n    margin-top: 40px;\r\n    margin-left: 20px;\r\n    margin-bottom: 40px ${bps.up('md')} {\r\n      margin-left: 40px;\r\n    }\r\n  }\r\n`\r\n\r\nconst BasicInfoGridHeader = styled(Grid)`\r\n  && {\r\n    ${commonFontStyle}\r\n    font-weight: 600;\r\n    color: #4a4a4a;\r\n    font-size: 18px;\r\n  }\r\n`\r\n\r\nconst BasicInfoGridContent = styled(Grid)`\r\n  && {\r\n    ${commonFontStyle}\r\n    color: #4a4a4a;\r\n    font-size: 18px;\r\n  }\r\n`\r\n\r\nclass ProfilePage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  async componentDidMount() {}\r\n\r\n  handleElectionDetailButton = (year, code) => {\r\n    this.props.history.push(`/district/${year}/${code}`)\r\n  }\r\n\r\n  renderElectionInfoCard(election, yob) {\r\n    console.log(election)\r\n    return (\r\n      <Grid item xs={12} md={4}>\r\n        <YearDiv>{`${election.year}年`}</YearDiv>\r\n        <ElectionHistoryPaper>\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionHistoryContentHeaderSpan item xs={12} md={4}>\r\n              地區\r\n            </ElectionHistoryContentHeaderSpan>\r\n            <ElectionHistoryContentSpan item xs={12} md={8}>\r\n              {' '}\r\n              {election.constituency && election.constituency.name\r\n                ? election.constituency.name\r\n                : '-'}{' '}\r\n            </ElectionHistoryContentSpan>\r\n          </ElectionHistoryContentGrid>\r\n          <hr />\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionHistoryContentHeaderSpan item xs={12} md={4}>\r\n              選區\r\n            </ElectionHistoryContentHeaderSpan>\r\n            <ElectionHistoryContentSpan item xs={12} md={8}>\r\n              {`${election.constituency.name_zh} （${election.cacode}）`}\r\n            </ElectionHistoryContentSpan>\r\n          </ElectionHistoryContentGrid>\r\n          <hr />\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionHistoryContentHeaderSpan item xs={12} md={4}>\r\n              陣營\r\n            </ElectionHistoryContentHeaderSpan>\r\n            <ElectionHistoryContentSpan item xs={12} md={8}>\r\n              {election.camp ? election.camp : '-'}\r\n            </ElectionHistoryContentSpan>\r\n          </ElectionHistoryContentGrid>\r\n          <hr />\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionHistoryContentHeaderSpan item xs={12} md={4}>\r\n              得票率\r\n            </ElectionHistoryContentHeaderSpan>\r\n            <ElectionHistoryContentSpan item xs={12} md={8}>\r\n              {`${election.vote_percentage}% （${\r\n                election.is_won ? '當選' : '落敗'\r\n              }）`}\r\n            </ElectionHistoryContentSpan>\r\n          </ElectionHistoryContentGrid>\r\n          <ElectionHistoryContentGrid container spacing={1}>\r\n            <ElectionDetailButton\r\n              onClick={() => {\r\n                this.handleElectionDetailButton(election.year, election.cacode)\r\n              }}\r\n            >\r\n              查看選舉資料\r\n            </ElectionDetailButton>\r\n          </ElectionHistoryContentGrid>\r\n        </ElectionHistoryPaper>\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      match: {\r\n        params: { id },\r\n      },\r\n    } = this.props\r\n    return (\r\n      <Query query={GET_PEOPLE_PROFILE} variables={{ id }}>\r\n        {({ loading, error, data }) => {\r\n          if (loading) return null\r\n          if (error) return `Error! ${error}`\r\n          const person = data.dc_people[0]\r\n          return (\r\n            <>\r\n              <FlexRowContainer>\r\n                <Box\r\n                  width={{ sm: '250px', md: '300px' }}\r\n                  height={{ sm: '200px' }}\r\n                >\r\n                  <CandidateAvatar src=\"/static/images/avatar/default.png\" />\r\n                </Box>\r\n                <Box>\r\n                  <CandidateName>\r\n                    {person.name_zh ? person.name_zh : ''}{' '}\r\n                    {person.name_zh ? person.name_en : ''}\r\n                    <DistrictName>\r\n                      {/* TODO */}\r\n                      沙田區, 水街\r\n                    </DistrictName>\r\n                  </CandidateName>\r\n                </Box>\r\n              </FlexRowContainer>\r\n\r\n              <BasicInfoGridContainer container spacing={3}>\r\n                <Grid item xs={12} md={3}>\r\n                  <BasicInfoHeader>基本資料</BasicInfoHeader>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={4}>\r\n                  <Grid container spacing={3}>\r\n                    <BasicInfoGridHeader item xs={6}>\r\n                      性別\r\n                    </BasicInfoGridHeader>\r\n                    <BasicInfoGridContent item xs={6}>\r\n                      {person.gender\r\n                        ? person.gender == 'male'\r\n                          ? '男'\r\n                          : '女'\r\n                        : '-'}\r\n                    </BasicInfoGridContent>\r\n\r\n                    <BasicInfoGridHeader item xs={6}>\r\n                      年齡\r\n                    </BasicInfoGridHeader>\r\n                    <BasicInfoGridContent item xs={6}>\r\n                      {person.estimated_yob\r\n                        ? `${moment().year() - person.estimated_yob}歲`\r\n                        : '-'}\r\n                    </BasicInfoGridContent>\r\n\r\n                    <BasicInfoGridHeader item xs={6}>\r\n                      出生年份\r\n                    </BasicInfoGridHeader>\r\n                    <BasicInfoGridContent item xs={6}>\r\n                      {person.estimated_yob ? person.estimated_yob : '-'}\r\n                    </BasicInfoGridContent>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={4}>\r\n                  <Grid container spacing={3}>\r\n                    <BasicInfoGridHeader item xs={6}>\r\n                      職業\r\n                    </BasicInfoGridHeader>\r\n                    <BasicInfoGridContent item xs={6}>\r\n                      {person.elections[person.elections.length - 1].occupation\r\n                        ? person.elections[person.elections.length - 1]\r\n                            .occupation\r\n                        : '-'}\r\n                    </BasicInfoGridContent>\r\n\r\n                    <BasicInfoGridHeader item xs={6}>\r\n                      陣營\r\n                    </BasicInfoGridHeader>\r\n                    <BasicInfoGridContent item xs={6}>\r\n                      TODO\r\n                    </BasicInfoGridContent>\r\n\r\n                    <BasicInfoGridHeader item xs={6}>\r\n                      所屬政治聯繫\r\n                    </BasicInfoGridHeader>\r\n                    <BasicInfoGridContent item xs={6}>\r\n                      TODO\r\n                    </BasicInfoGridContent>\r\n                  </Grid>\r\n                </Grid>\r\n              </BasicInfoGridContainer>\r\n\r\n              <ElectionHistoryContainer>\r\n                <Grid container spacing={3}>\r\n                  <Grid item xs={12}>\r\n                    <ElectionHistoryHeader>區議會選舉</ElectionHistoryHeader>\r\n                  </Grid>\r\n\r\n                  {person.elections\r\n                    .sort((a, b) => b.year - a.year)\r\n                    .map(election =>\r\n                      this.renderElectionInfoCard(\r\n                        election,\r\n                        person.estimated_yob\r\n                      )\r\n                    )}\r\n                </Grid>\r\n              </ElectionHistoryContainer>\r\n            </>\r\n          )\r\n        }}\r\n      </Query>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProfilePage\r\n","import React, { Component } from 'react'\r\nimport Map from 'ol/Map'\r\nimport View from 'ol/View'\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport VectorLayer from 'ol/layer/Vector'\r\nimport VectorSource from 'ol/source/Vector'\r\nimport XYZ from 'ol/source/XYZ'\r\nimport GeoJSON from 'ol/format/GeoJSON'\r\nimport { Style, Stroke, Fill } from 'ol/style'\r\nimport Select from 'ol/interaction/Select'\r\nimport styled from 'styled-components'\r\n\r\nimport dc2003 from '../data/DCCA_2003'\r\nimport dc2007 from '../data/DCCA_2007'\r\nimport dc2011 from '../data/DCCA_2011'\r\nimport dc2015 from '../data/DCCA_2015'\r\nimport dc2019 from '../data/DCCA_2019'\r\n\r\nconst MapContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\n\r\nclass OLMap extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { year, code } = this.props\r\n    const dc = [dc2003, dc2007, dc2011, dc2015, dc2019].find(\r\n      d => d.name === `DCCA_${year}`\r\n    )\r\n    let isDCDataExist = dc ? true : false\r\n    let featuresLayer\r\n\r\n    if (isDCDataExist) {\r\n      this.featureSource = new VectorSource({\r\n        features: new GeoJSON().readFeatures(dc),\r\n      })\r\n\r\n      const styleFunction = feature => {\r\n        if (feature.getProperties().CACODE === code) {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'rgba(74, 144, 226, 0.5)',\r\n            }),\r\n            stroke: new Stroke({\r\n              color: '#3e59ef',\r\n              width: 2,\r\n            }),\r\n          })\r\n        }\r\n        return new Style({\r\n          fill: new Fill({\r\n            color: 'rgba(74, 144, 226, 0.05)',\r\n          }),\r\n          stroke: new Stroke({\r\n            color: '#3e59ef',\r\n            width: 2,\r\n          }),\r\n        })\r\n      }\r\n\r\n      featuresLayer = new VectorLayer({\r\n        source: this.featureSource,\r\n        style: styleFunction,\r\n      })\r\n    }\r\n\r\n    // create map object with feature layer\r\n    const layers = [\r\n      //default OSM layer\r\n      new TileLayer({\r\n        source: new XYZ({\r\n          url:\r\n            'https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}',\r\n        }),\r\n      }),\r\n    ]\r\n\r\n    if (isDCDataExist) {\r\n      layers.push(featuresLayer)\r\n    }\r\n\r\n    const map = new Map({\r\n      target: this.refs.mapContainer,\r\n      layers,\r\n      view: new View({\r\n        projection: 'EPSG:4326',\r\n        center: [114.2029, 22.3844],\r\n        zoom: 13,\r\n      }),\r\n    })\r\n\r\n    if (isDCDataExist) {\r\n      // Fit to feature\r\n      const features = this.featureSource.getFeatures()\r\n      for (let i = 0; i < features.length; i++) {\r\n        if (features[i].getProperties().CACODE === code) {\r\n          const extent = features[i].getGeometry().getExtent()\r\n          map.getView().fit(extent, {\r\n            size: map.getSize(),\r\n            padding: [10, 10, 10, 10],\r\n          })\r\n          break\r\n        }\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      map,\r\n      view: map.getView(),\r\n      featuresLayer: isDCDataExist ? featuresLayer : null,\r\n    })\r\n\r\n    const select = new Select()\r\n\r\n    if (select !== null) {\r\n      map.addInteraction(select)\r\n      select.on('select', this.handleMapClick)\r\n    }\r\n  }\r\n\r\n  handleMapClick = e => {\r\n    const { year, changeDistrict } = this.props\r\n    const selectedFeature = e.target.getFeatures().getArray()\r\n\r\n    if (selectedFeature.length > 0) {\r\n      changeDistrict(year, selectedFeature[0].get('CACODE'))\r\n      this.state.map\r\n        .getView()\r\n        .fit(selectedFeature[0].getGeometry().getExtent(), {\r\n          duration: 200,\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <MapContainer ref=\"mapContainer\"> </MapContainer>\r\n  }\r\n}\r\n\r\nexport default OLMap\r\n","import React, { Component } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport styled from 'styled-components'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Box from '@material-ui/core/Box'\r\nimport PropTypes from 'prop-types'\r\nimport { bps } from 'utils/responsive'\r\n\r\nconst Container = styled(Paper)`\r\n  && {\r\n    width: 400px;\r\n    height: 400px;\r\n    background-color: #f6f6f6;\r\n    padding: 0;\r\n\r\n    ${bps.down('md')} {\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst InnerContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    align-items: baseline;\r\n    padding-left: 32px;\r\n    padding-right: 32px;\r\n  }\r\n`\r\n\r\nconst YearText = styled(Typography)`\r\n  && {\r\n    font-family: Avenir;\r\n    font-size: 30px;\r\n    font-weight: 900;\r\n    color: #333333;\r\n  }\r\n`\r\n\r\nconst RegionText = styled(Typography)`\r\n  && {\r\n    width: 100%;\r\n    font-family: PingFangTC-Medium;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n    color: #ffb700;\r\n  }\r\n`\r\n\r\nconst CodeText = styled(Typography)`\r\n  && {\r\n    margin-left: 10px;\r\n    font-family: PingFangTC-Light;\r\n    font-size: 40px;\r\n    font-weight: 300;\r\n    color: #9b9b9b;\r\n  }\r\n`\r\n\r\nconst StyledDivier = styled(Divider)`\r\n  && {\r\n    margin-top: 40px;\r\n    background-color: #cecece;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst SeperatedRow = styled(Box)`\r\n  && {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    width: 100%;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n`\r\n\r\nfunction getCouncillor(candidates) {\r\n  const councillor = {\r\n    name: '',\r\n    politicalAffiliation: '',\r\n  }\r\n\r\n  const electedCandidate = candidates.find(candidate => candidate.is_won)\r\n  if (electedCandidate) {\r\n    councillor.name =\r\n      electedCandidate.person.name_zh || electedCandidate.person.name_en\r\n    if (electedCandidate.person.political_affiliations.length) {\r\n      const political_affiliation =\r\n        electedCandidate.person.political_affiliations[0].political_affiliation\r\n      councillor.political_affiliation = political_affiliation.name_zh\r\n    }\r\n  }\r\n\r\n  return councillor\r\n}\r\n\r\nclass DistrictCard extends Component {\r\n  static propTypes = {\r\n    year: PropTypes.number.isRequired,\r\n    code: PropTypes.string.isRequired,\r\n    name_zh: PropTypes.string.isRequired,\r\n    name_en: PropTypes.string.isRequired,\r\n    onPrevElection: PropTypes.func.isRequired,\r\n    onNextElection: PropTypes.func.isRequired,\r\n    candidates: PropTypes.array.isRequired,\r\n  }\r\n\r\n  renderPrevElectionButton(year) {\r\n    return year > 1999 ? (\r\n      <IconButton aria-label=\"arrow_back\" onClick={this.props.onPrevElection}>\r\n        <ArrowBackIcon />\r\n      </IconButton>\r\n    ) : (\r\n      // if there is no next button, show a 48x48 empty box to align the 2 elements on the right\r\n      <div style={{ width: '48px', height: '48px' }}></div>\r\n    )\r\n  }\r\n\r\n  renderNextElectionButton(year) {\r\n    const nextElectionYear = year + 4\r\n    const currentYear = new Date().getFullYear()\r\n    return nextElectionYear <= currentYear ? (\r\n      <IconButton\r\n        aria-label=\"arrow_forward\"\r\n        onClick={this.props.onNextElection}\r\n      >\r\n        <ArrowForwardIcon />\r\n      </IconButton>\r\n    ) : (\r\n      // if there is no next button, show a 48x48 empty box to align the 2 elements on the left\r\n      <div style={{ width: '48px', height: '48px' }}></div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { name_zh, year, code, candidates } = this.props\r\n    const councillor = getCouncillor(candidates)\r\n    return (\r\n      <Container>\r\n        <InnerContainer border={0} color=\"primary.minor\">\r\n          <SeperatedRow>\r\n            {this.renderPrevElectionButton(year)}\r\n            <YearText variant=\"button\" gutterBottom>\r\n              {year}\r\n            </YearText>\r\n            {this.renderNextElectionButton(year)}\r\n          </SeperatedRow>\r\n          <RegionText>--區</RegionText>\r\n          <Typography variant=\"h3\">{name_zh}</Typography>\r\n          <CodeText>{code}</CodeText>\r\n          <StyledDivier />\r\n          <SeperatedRow>\r\n            <Typography variant=\"h6\">區議員</Typography>\r\n            <Typography>{councillor.name}</Typography>\r\n          </SeperatedRow>\r\n          <SeperatedRow>\r\n            <Typography variant=\"h6\">政治聯繫</Typography>\r\n            <Typography>{councillor.political_affiliation}</Typography>\r\n          </SeperatedRow>\r\n          <SeperatedRow>\r\n            <Typography variant=\"h6\">投票站</Typography>\r\n            <Typography variant=\"subtitle2\">-</Typography>\r\n          </SeperatedRow>\r\n        </InnerContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DistrictCard\r\n","import React, { Component } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport styled from 'styled-components'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Box from '@material-ui/core/Box'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Container = styled.div`\r\n   {\r\n    width: 100%;\r\n    height: 220px;\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nclass MainAreas extends Component {\r\n  static propTypes = {\r\n    areas: PropTypes.array.isRequired,\r\n  }\r\n\r\n  render() {\r\n    const { areas } = this.props\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          主要屋邨 / 地區\r\n        </Typography>\r\n        <Box display=\"flex\" flexWrap=\"wrap\" alignContent=\"flex-start\">\r\n          {areas.map((area, index) => (\r\n            <Box mr={1} key={index}>\r\n              {`${Object.keys(area)[0]}. ${area[Object.keys(area)[0]]}`}\r\n            </Box>\r\n          ))}\r\n        </Box>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MainAreas\r\n","import React from 'react'\r\nimport { lighten, makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nconst BorderLinearProgress = withStyles({\r\n  root: {\r\n    height: 20,\r\n    width: 100,\r\n    backgroundColor: props => lighten(props.bgColor, 0.5),\r\n  },\r\n  bar: {\r\n    borderRadius: 20,\r\n    backgroundColor: props => props.bgColor,\r\n  },\r\n})(LinearProgress)\r\n\r\nexport default function CustomizedProgressBars(props) {\r\n  const classes = useStyles()\r\n  return (\r\n    <React.Fragment>\r\n      <BorderLinearProgress\r\n        className={classes.margin}\r\n        variant=\"determinate\"\r\n        color=\"secondary\"\r\n        value={props.value}\r\n        bgColor={props.color}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport styled, { css } from 'styled-components'\r\nimport Box from '@material-ui/core/Box'\r\nimport PropTypes from 'prop-types'\r\nimport CustomizedProgressBars from '../../components/BorderLinearProgress'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport { bps } from 'utils/responsive'\r\nimport { getCamp, getPoliticalAffiliation } from 'helpers/candidate'\r\n\r\nconst fontBoldStyle = css`\r\n  font-family: 'PingFangTC-Medium';\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n`\r\n\r\nconst fontNormalStyle = css`\r\n  font-family: 'PingFangTC';\r\n  font-style: normal;\r\n  font-stretch: normal;\r\n  line-height: normal;\r\n  letter-spacing: normal;\r\n`\r\n\r\nconst OvalButton = styled.div`\r\n  width: 95px;\r\n  height: 95px;\r\n  background: url('/static/images/electedIcon.png');\r\n`\r\n\r\nconst Container = styled.div`\r\n   {\r\n    padding: 0px 15px 100px 25px;\r\n  }\r\n`\r\n\r\nconst RowsContainer = styled.div`\r\n   {\r\n    margin-top: 30px;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2);\r\n    background-color: #ffffff;\r\n    ${bps.down('sm')} {\r\n      margin-left: 10px;\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n`\r\n\r\nconst FlexRowContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: flex-start;\r\n    width: 1440px;\r\n    margin: auto;\r\n    cursor: pointer;\r\n    ${bps.down('sm')} {\r\n      width: 1440px;\r\n      margin: auto;\r\n    }\r\n  }\r\n`\r\n\r\nconst FlexColumn = styled(Box)`\r\n  && {\r\n    height: 149px;\r\n    align-items: center;\r\n    display: flex;\r\n    padding-left: 40px;\r\n    ${bps.down('sm')} {\r\n      height: 80px;\r\n    }\r\n  }\r\n`\r\n\r\nconst AvatarColumn = styled(FlexColumn)`\r\n  && {\r\n    width: 100px;\r\n    ${bps.down('sm')} {\r\n      width: 100%;\r\n      height: 149px;\r\n    }\r\n  }\r\n`\r\n\r\nconst NameColumn = styled(FlexColumn)`\r\n  && {\r\n    width: 200px;\r\n    ${bps.down('sm')} {\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst PoliticalColumn = styled(FlexColumn)`\r\n  && {\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    width: 180px;\r\n    ${bps.down('sm')} {\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledDivier = styled(Divider)`\r\n  && {\r\n    margin-left: 30px;\r\n    margin-right: 30px;\r\n    ${bps.down('sm')} {\r\n      margin-top: 30px;\r\n    }\r\n  }\r\n`\r\nconst CandidateListTitle = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 32px;\r\n    font-weight: 600;\r\n    color: #333333;\r\n  }\r\n`\r\n\r\nconst CandidateName = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n    color: #333333;\r\n  }\r\n`\r\n\r\nconst BlueVoteContainer = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    color: #306ece;\r\n  }\r\n`\r\n\r\nconst RedVoteContainer = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    color: #f6416e;\r\n  }\r\n`\r\n\r\nconst ContentHeader = styled.div`\r\n   {\r\n    ${fontBoldStyle}\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    color: #4a4a4a;\r\n  }\r\n`\r\n\r\nconst Content = styled.div`\r\n   {\r\n    ${fontNormalStyle}\r\n    font-size: 18px;\r\n    color: #4a4a4a;\r\n  }\r\n`\r\n\r\nclass CandidateList extends Component {\r\n  static propTypes = {\r\n    candidates: PropTypes.array.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    code: PropTypes.string.isRequired,\r\n  }\r\n\r\n  // todo: use ENV_VAR\r\n  homeUrl = 'https://cswbrian.github.io/district-councils-dashboard/'\r\n\r\n  render() {\r\n    const { candidates, year, code } = this.props\r\n\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <CandidateListTitle>議員候選人</CandidateListTitle>\r\n        <RowsContainer>\r\n          {candidates\r\n            .sort((a, b) => a.candidate_number - b.candidate_number)\r\n            .map((candidate, index) => (\r\n              <>\r\n                {index > 0 ? <StyledDivier /> : null}\r\n                <FlexRowContainer\r\n                  style={{ width: '100%' }}\r\n                  key={candidate.candidate_number}\r\n                  onClick={() => {\r\n                    this.props.handleCandidateSelected(candidate.person.id)\r\n                  }}\r\n                >\r\n                  <AvatarColumn>\r\n                    <Avatar\r\n                      src={`${\r\n                        this.homeUrl\r\n                      }/static/images/avatar/${year}/${code}_${\r\n                        year === 2011 ? '0' : ''\r\n                      }${candidate.candidate_number}.jpg`}\r\n                      imgProps={{\r\n                        onError: e => {\r\n                          e.target.src =\r\n                            this.homeUrl + '/static/images/avatar/default.png'\r\n                        },\r\n                      }}\r\n                      style={{\r\n                        width: '66px',\r\n                        height: '88px',\r\n                        borderRadius: 0,\r\n                      }}\r\n                    ></Avatar>\r\n                  </AvatarColumn>\r\n                  <NameColumn p={1}>\r\n                    <CandidateName>\r\n                      {candidate.candidate_number !== 0 &&\r\n                        `${candidate.candidate_number}. `}\r\n                      {candidate.person.name_zh || candidate.person.name_en}\r\n                    </CandidateName>\r\n                  </NameColumn>\r\n                  <PoliticalColumn>\r\n                    <ContentHeader>陣營</ContentHeader>\r\n                    {'\\n'}\r\n                    <Content>{getCamp(candidate)}</Content>\r\n                  </PoliticalColumn>\r\n                  <PoliticalColumn>\r\n                    <ContentHeader>政治聯繫</ContentHeader>\r\n                    {'\\n'}\r\n                    <Content>{getPoliticalAffiliation(candidate)}</Content>\r\n                  </PoliticalColumn>\r\n                  {candidate.candidate_number !== 0 && (\r\n                    <>\r\n                      <PoliticalColumn>\r\n                        {candidate.is_won && (\r\n                          <BlueVoteContainer>\r\n                            {`${candidate.votes}票 (${candidate.vote_percentage}%)`}\r\n                          </BlueVoteContainer>\r\n                        )}\r\n                        {!candidate.is_won && (\r\n                          <RedVoteContainer>\r\n                            {`${candidate.votes}票 (${candidate.vote_percentage}%)`}\r\n                          </RedVoteContainer>\r\n                        )}\r\n                      </PoliticalColumn>\r\n                      <FlexColumn>\r\n                        <ContentHeader style={{ color: '#9b9b9b' }}>\r\n                          得票率\r\n                        </ContentHeader>\r\n                        <Content>\r\n                          <CustomizedProgressBars\r\n                            value={parseFloat(candidate.vote_percentage)}\r\n                            color={candidate.is_won ? '#306ece' : '#f6416e'}\r\n                          />\r\n                        </Content>\r\n                      </FlexColumn>\r\n                    </>\r\n                  )}\r\n                  <FlexColumn>\r\n                    {candidate.is_won && <OvalButton />}\r\n                    {!candidate.is_won && (\r\n                      <div\r\n                        style={{\r\n                          width: '95px',\r\n                          height: '95px',\r\n                        }}\r\n                      ></div>\r\n                    )}\r\n                  </FlexColumn>\r\n                </FlexRowContainer>\r\n              </>\r\n            ))}\r\n        </RowsContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CandidateList\r\n","export const getPoliticalAffiliation = candidate => {\r\n  let pa = '-'\r\n  try {\r\n    // assume from the graphql we already sort out the only active political_affiliations here\r\n    pa =\r\n      candidate.person.political_affiliations[0].political_affiliation.name_zh\r\n  } catch (err) {}\r\n  return pa\r\n}\r\n\r\nexport const getCamp = candidate => {\r\n  let camp = '-'\r\n  try {\r\n    // assume from the graphql we already sort out the only active political_affiliations here\r\n    camp =\r\n      candidate.person.political_affiliations[0].political_affiliation.camp\r\n        .name_zh\r\n  } catch (err) {}\r\n  return camp\r\n}\r\n","import React, { Component } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Box from '@material-ui/core/Box'\r\nimport OLMap from '../../components/OLMap'\r\nimport gql from 'graphql-tag'\r\nimport { Query } from 'react-apollo'\r\nimport DistrictCard from 'components/district/DistrictCard'\r\nimport MainAreas from 'components/district/MainAreas'\r\nimport CandidateList from 'components/district/CandidateList'\r\nimport styled from 'styled-components'\r\nimport { bps } from 'utils/responsive'\r\n\r\nconst GET_DISTRICTS = gql`\r\n  query($year: Int!, $code: String!, $electionYear: date) {\r\n    dc_constituencies(where: { year: { _eq: $year }, code: { _eq: $code } }) {\r\n      name_zh\r\n      name_en\r\n      code\r\n      deviation_percentage\r\n      expected_population\r\n      main_areas\r\n      candidates {\r\n        candidate_number\r\n        person {\r\n          id\r\n          name_zh\r\n          name_en\r\n          political_affiliations(\r\n            where: {\r\n              year_from: { _lte: $electionYear }\r\n              year_to: { _gte: $electionYear }\r\n            }\r\n          ) {\r\n            year_to\r\n            year_from\r\n            political_affiliation {\r\n              name_zh\r\n              id\r\n              camp {\r\n                name_zh\r\n              }\r\n            }\r\n          }\r\n        }\r\n        vote_percentage\r\n        votes\r\n        is_won\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst FullWidthBox = styled(Box)`\r\n  && {\r\n    padding-top: 4rem;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst LowerBackgroundContainer = styled(Box)`\r\n  && {\r\n    width: 100vw;\r\n    position: relative;\r\n    margin-left: -50vw;\r\n    left: 50%;\r\n    background-color: #fafafa;\r\n  }\r\n`\r\n\r\nconst FlexRowContainer = styled(Box)`\r\n  && {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: flex-start;\r\n    ${bps.up('md')} {\r\n      width: 100%;\r\n    }\r\n\r\n    ${bps.up('lg')} {\r\n      width: 1440px;\r\n    }\r\n    margin: auto;\r\n  }\r\n`\r\n\r\nconst DistrictCardContainer = styled(Box)`\r\n  && {\r\n    padding-left: 30px;\r\n    margin: 0px;\r\n    width: 400px;\r\n    height: 400px;\r\n\r\n    ${bps.down('md')} {\r\n      margin: 10px;\r\n      width: 100%;\r\n      padding: 0px;\r\n    }\r\n  }\r\n`\r\n\r\nclass DistrictPage extends Component {\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    //  if (this.props.route.path === nextProps.route.path) return false;\r\n    return true\r\n  }\r\n\r\n  handleCandidateSelected = candidateId => {\r\n    this.props.history.push(`/profile/${candidateId}`)\r\n  }\r\n\r\n  handleChangeDistrict = (year, code) => {\r\n    if (!year || !code) return\r\n    this.props.history.push(`/district/${year}/${code}`)\r\n  }\r\n\r\n  onPrevElection() {\r\n    const {\r\n      match: {\r\n        params: { year, code },\r\n      },\r\n    } = this.props\r\n    this.props.history.push(`/district/${parseInt(year, 10) - 4}/${code}`)\r\n  }\r\n\r\n  onNextElection() {\r\n    const {\r\n      match: {\r\n        params: { year, code },\r\n      },\r\n    } = this.props\r\n    this.props.history.push(`/district/${parseInt(year, 10) + 4}/${code}`)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      match: {\r\n        params: { year, code },\r\n      },\r\n    } = this.props\r\n\r\n    // TODO: this should be the election date\r\n    const electionYear = `${year}-01-01`\r\n\r\n    return (\r\n      <>\r\n        <FlexRowContainer>\r\n          <Box\r\n            width={{ sm: '100%', md: '960px' }}\r\n            height={{ sm: '300px', md: '400px' }}\r\n          >\r\n            <OLMap\r\n              year={year}\r\n              code={code}\r\n              changeDistrict={this.handleChangeDistrict}\r\n            />\r\n          </Box>\r\n          <Query query={GET_DISTRICTS} variables={{ year, code, electionYear }}>\r\n            {({ loading, error, data }) => {\r\n              if (loading) return null\r\n              if (error) return `Error! ${error}`\r\n              const district = data.dc_constituencies[0]\r\n              return (\r\n                <>\r\n                  <DistrictCardContainer>\r\n                    <DistrictCard\r\n                      {...district}\r\n                      year={parseInt(year, 10)}\r\n                      code={code}\r\n                      onNextElection={this.onNextElection.bind(this)}\r\n                      onPrevElection={this.onPrevElection.bind(this)}\r\n                    />\r\n                  </DistrictCardContainer>\r\n                  <FullWidthBox>\r\n                    <MainAreas areas={district.main_areas || []} />\r\n                  </FullWidthBox>\r\n                  <LowerBackgroundContainer>\r\n                    <FlexRowContainer>\r\n                      <FullWidthBox>\r\n                        <Typography variant=\"h5\" bold gutterBottom>\r\n                          人口資料\r\n                        </Typography>\r\n                        {district.expected_population}\r\n                      </FullWidthBox>\r\n                      <FullWidthBox>\r\n                        <CandidateList\r\n                          candidates={district.candidates}\r\n                          year={parseInt(year, 10)}\r\n                          code={code}\r\n                          handleCandidateSelected={this.handleCandidateSelected}\r\n                        />\r\n                      </FullWidthBox>\r\n                    </FlexRowContainer>\r\n                  </LowerBackgroundContainer>\r\n                </>\r\n              )\r\n            }}\r\n          </Query>\r\n        </FlexRowContainer>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DistrictPage\r\n","import { createMuiTheme } from '@material-ui/core/styles'\r\n\r\nexport const headingFontFamily = 'PingFangTC-Medium, sans-serif'\r\nexport const bodyFontFamily = 'PT Serif, sans-serif'\r\n\r\nexport const fontFamily = [\r\n  'PingFangTC',\r\n  'Noto Sans TC',\r\n  'sans-serif',\r\n  '-apple-system',\r\n  '\"Helvetica Neue\"',\r\n  'Arial',\r\n]\r\n\r\nexport const typography = {\r\n  useNextVariants: true,\r\n  fontSize: 16,\r\n  fontFamily: fontFamily.join(','),\r\n  h1: {\r\n    fontFamily: headingFontFamily,\r\n  },\r\n  h2: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 24,\r\n  },\r\n  h3: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 40,\r\n    fontWeight: 500,\r\n  },\r\n  h4: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 30,\r\n    fontWeight: 500,\r\n  },\r\n  h5: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n  },\r\n  h6: {\r\n    fontFamily: headingFontFamily,\r\n    fontSize: 18,\r\n    fontWeight: 500,\r\n  },\r\n  body1: {\r\n    fontFamily: bodyFontFamily,\r\n  },\r\n}\r\n\r\nexport default createMuiTheme({\r\n  typography,\r\n  palette: {\r\n    primary: {\r\n      light: '#ffffff',\r\n      main: '#000000',\r\n      dark: '#cccccc',\r\n    },\r\n    secondary: {\r\n      light: '#2c2c2c',\r\n      main: '#000000',\r\n      dark: '#000000',\r\n    },\r\n    background: {\r\n      default: '#ffffff',\r\n    },\r\n  },\r\n  text: {\r\n    primary: '#000000',\r\n  },\r\n})\r\n","import React, { Component } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport createMuiTheme from '../../ui/theme'\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\r\n\r\nconst theme = createMuiTheme\r\n\r\nconst styles = theme => ({\r\n  content: {},\r\n})\r\n\r\nclass NotFoundPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <MuiThemeProvider theme={theme}>\r\n        TODO - <a href=\"https://notfound.collaction.hk/\">404</a>\r\n      </MuiThemeProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(NotFoundPage)\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\r\nimport NavBar from './layout/NavBar'\r\nimport SearchPage from './pages/search'\r\nimport ProfilePage from './pages/profile'\r\nimport DistrictPage from './pages/district'\r\nimport NotfoundPage from './pages/notfound'\r\nimport ApolloClient from 'apollo-boost'\r\nimport { ApolloProvider } from 'react-apollo'\r\nimport theme from 'ui/theme'\r\nimport './App.css'\r\n\r\nconst client = new ApolloClient({\r\n  uri: 'https://gql.opencultures.life/graphql',\r\n})\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  // Load app bar information from the theme\r\n  // https://stackoverflow.com/questions/48508449/content-beneath-fixed-appbar\r\n  toolbar: theme.mixins.toolbar,\r\n})\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <ApolloProvider client={client}>\r\n        <MuiThemeProvider theme={theme}>\r\n          <CssBaseline />\r\n          <NavBar />\r\n          <main>\r\n            {/* <div className={classes.toolbar} /> */}\r\n            {/* Content will be shifted downwards by the div above. If the div is removed, the content will disappear under the app bar. */}\r\n            <Switch>\r\n              <Route exact path=\"/\" component={SearchPage} />\r\n              <Route path=\"/profile/:id\" component={ProfilePage} />\r\n              <Route path=\"/district/:year/:code\" component={DistrictPage} />\r\n              <Route component={NotfoundPage} />\r\n            </Switch>\r\n          </main>\r\n        </MuiThemeProvider>\r\n      </ApolloProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(App)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}